{"version":3,"sources":["../src/components/ui/table.tsx","../src/components/pivot-table/pivot-table.tsx","../src/components/ui/card.tsx","../src/components/ui/button.tsx","../src/components/ui/separator.tsx","../src/components/ui/badge.tsx","../src/components/pivot-table/draggable-field.tsx","../src/components/pivot-table/drop-zone.tsx","../src/components/pivot-table/pivot-panel.tsx","../src/components/ui/dialog.tsx","../src/components/ui/label.tsx","../src/components/ui/radio-group.tsx","../src/components/pivot-table/export-dialog.tsx","../src/components/pivot-table/client-pivot-wrapper.tsx","../src/components/ui/checkbox.tsx","../src/components/ui/dropdown-menu.tsx","../src/components/ui/input.tsx","../src/components/ui/scroll-area.tsx","../src/components/ui/select.tsx","../src/components/ui/skeleton.tsx"],"names":["jsx","cva","Slot","useRef","jsxs","formatFieldName","memo","useState","useEffect","useMemo","Fragment","Loader2","useCallback","CheckIcon"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,SAAS,KAAA,CAAM,EAAE,SAAA,EAAW,GAAG,OAAM,EAAkC;AACrE,EAAA,uBACE,GAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,iBAAA;AAAA,MACV,SAAA,EAAU,iCAAA;AAAA,MAEV,QAAA,kBAAA,GAAA;AAAA,QAAC,OAAA;AAAA,QAAA;AAAA,UACC,WAAA,EAAU,OAAA;AAAA,UACV,SAAA,EAAW,EAAA,CAAG,+BAAA,EAAiC,SAAS,CAAA;AAAA,UACvD,GAAG;AAAA;AAAA;AACN;AAAA,GACF;AAEJ;AAEA,SAAS,WAAA,CAAY,EAAE,SAAA,EAAW,GAAG,OAAM,EAAkC;AAC3E,EAAA,uBACE,GAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,cAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,iBAAA,EAAmB,SAAS,CAAA;AAAA,MACzC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,SAAA,CAAU,EAAE,SAAA,EAAW,GAAG,OAAM,EAAkC;AACzE,EAAA,uBACE,GAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,YAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,4BAAA,EAA8B,SAAS,CAAA;AAAA,MACpD,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,WAAA,CAAY,EAAE,SAAA,EAAW,GAAG,OAAM,EAAkC;AAC3E,EAAA,uBACE,GAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,cAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,yDAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,QAAA,CAAS,EAAE,SAAA,EAAW,GAAG,OAAM,EAA+B;AACrE,EAAA,uBACE,GAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,WAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,6EAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,SAAA,CAAU,EAAE,SAAA,EAAW,GAAG,OAAM,EAA+B;AACtE,EAAA,uBACE,GAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,YAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,oJAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,SAAA,CAAU,EAAE,SAAA,EAAW,GAAG,OAAM,EAA+B;AACtE,EAAA,uBACE,GAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,YAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,wGAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,YAAA,CAAa;AAAA,EACpB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAoC;AAClC,EAAA,uBACE,GAAA;AAAA,IAAC,SAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,eAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,oCAAA,EAAsC,SAAS,CAAA;AAAA,MAC5D,GAAG;AAAA;AAAA,GACN;AAEJ;ACnDA,IAAM,sBAAsB,CAAC,EAAE,IAAA,EAAM,MAAA,EAAQ,UAAS,KAAuB;AAC3E,EAAA,MAAM,SAAA,GAAY,OAAuB,IAAI,CAAA;AAG7C,EAAA,MAAM,OAAA,GAAU,QAA+B,MAAM;AACnD,IAAA,MAAM,OAA8B,EAAC;AAGrC,IAAA,KAAA,MAAW,KAAA,IAAS,OAAO,SAAA,EAAW;AACpC,MAAA,IAAA,CAAK,IAAA,CAAK;AAAA,QACR,EAAA,EAAI,KAAA;AAAA,QACJ,WAAA,EAAa,KAAA;AAAA,QACb,MAAA,EAAQ,gBAAgB,KAAK,CAAA;AAAA,QAC7B,IAAA,EAAM,CAAC,EAAE,GAAA,EAAK,UAAS,KAAM;AAC3B,UAAA,MAAM,QAAQ,QAAA,EAAS;AACvB,UAAA,MAAM,KAAA,GAAQ,GAAA,CAAI,QAAA,CAAS,OAAA,IAAW,CAAA;AACtC,UAAA,MAAM,OAAA,GAAU,GAAA,CAAI,QAAA,CAAS,cAAA,IAAkB,IAAI,QAAA,CAAS,YAAA;AAE5D,UAAA,uBACEA,GAAAA;AAAA,YAAC,KAAA;AAAA,YAAA;AAAA,cACC,SAAA,EAAW,EAAA;AAAA,gBACT,aAAA;AAAA,gBACA,OAAA,IAAW,WAAA;AAAA,gBACX,KAAA,GAAQ,CAAA,IAAK,CAAA,GAAA,EAAM,KAAA,GAAQ,CAAC,CAAA;AAAA,eAC9B;AAAA,cAEC,2BAAiB,KAAK;AAAA;AAAA,WACzB;AAAA,QAEJ,CAAA;AAAA,QACA,IAAA,EAAM;AAAA,OACP,CAAA;AAAA,IACH;AAGA,IAAA,IAAI,MAAA,CAAO,YAAA,CAAa,MAAA,KAAW,CAAA,EAAG;AAEpC,MAAA,KAAA,MAAW,UAAA,IAAc,OAAO,WAAA,EAAa;AAC3C,QAAA,IAAA,CAAK,IAAA,CAAK;AAAA,UACR,IAAI,UAAA,CAAW,KAAA;AAAA,UACf,WAAA,EAAa,UAAA,CAAW,WAAA,IAAe,UAAA,CAAW,KAAA;AAAA,UAClD,MAAA,EAAQ,UAAA,CAAW,WAAA,IAAe,eAAA,CAAgB,WAAW,KAAK,CAAA;AAAA,UAClE,IAAA,EAAM,CAAC,EAAE,QAAA,EAAS,KAAM;AACtB,YAAA,MAAM,QAAQ,QAAA,EAAS;AACvB,YAAA,uBACEA,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,wBACZ,QAAA,EAAA,YAAA,CAAa,KAAA,EAAO,UAAA,CAAW,WAAW,CAAA,EAC7C,CAAA;AAAA,UAEJ,CAAA;AAAA,UACA,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH;AAAA,IACF,CAAA,MAAO;AAEL,MAAA,MAAM,YAAA,GAAe,QAAA,CAAS,YAAA,IAAgB,EAAC;AAC/C,MAAA,MAAM,kBAAA,GAAqB,oBAAA,CAAqB,MAAA,CAAO,YAAA,EAAc,YAAY,CAAA;AAEjF,MAAA,KAAA,MAAW,eAAe,kBAAA,EAAoB;AAC5C,QAAA,MAAM,UAAA,GAAa,WAAA,CAAY,IAAA,CAAK,KAAK,CAAA;AAGzC,QAAA,MAAM,YAAA,GAAsC,MAAA,CAAO,WAAA,CAAY,GAAA,CAAI,CAAA,UAAA,MAAe;AAAA,UAChF,IAAI,iBAAA,CAAkB,WAAA,EAAa,UAAA,CAAW,WAAA,IAAe,WAAW,KAAK,CAAA;AAAA,UAC7E,aAAa,iBAAA,CAAkB,WAAA,EAAa,UAAA,CAAW,WAAA,IAAe,WAAW,KAAK,CAAA;AAAA,UACtF,MAAA,EAAQ,UAAA,CAAW,WAAA,IAAe,eAAA,CAAgB,WAAW,KAAK,CAAA;AAAA,UAClE,IAAA,EAAM,CAAC,EAAE,QAAA,EAAU,KAAI,KAAM;AAC3B,YAAA,MAAM,QAAQ,QAAA,EAAS;AACvB,YAAA,MAAM,OAAA,GAAU,GAAA,CAAI,QAAA,CAAS,cAAA,IAAkB,IAAI,QAAA,CAAS,YAAA;AAC5D,YAAA,uBACEA,GAAAA;AAAA,cAAC,KAAA;AAAA,cAAA;AAAA,gBACC,SAAA,EAAW,EAAA;AAAA,kBACT,sBAAA;AAAA,kBACA,OAAA,IAAW;AAAA,iBACb;AAAA,gBAEC,QAAA,EAAA,YAAA,CAAa,KAAA,EAAO,UAAA,CAAW,WAAW;AAAA;AAAA,aAC7C;AAAA,UAEJ,CAAA;AAAA,UACA,IAAA,EAAM;AAAA,SACR,CAAE,CAAA;AAGF,QAAA,IAAI,YAAA,CAAa,SAAS,CAAA,EAAG;AAC3B,UAAA,IAAA,CAAK,IAAA,CAAK;AAAA,YACR,EAAA,EAAI,SAAS,UAAU,CAAA,CAAA;AAAA,YACvB,MAAA,EAAQ,UAAA;AAAA,YACR,OAAA,EAAS;AAAA,WACV,CAAA;AAAA,QACH,CAAA,MAAO;AACL,UAAA,IAAA,CAAK,IAAA,CAAK;AAAA,YACR,GAAG,aAAa,CAAC,CAAA;AAAA,YACjB,QAAQ,CAAA,EAAG,UAAU,MAAM,YAAA,CAAa,CAAC,EAAE,MAAM,CAAA;AAAA,WAClD,CAAA;AAAA,QACH;AAAA,MACF;AAAA,IACF;AAGA,IAAA,IAAI,OAAO,OAAA,CAAQ,aAAA,IAAiB,MAAA,CAAO,YAAA,CAAa,SAAS,CAAA,EAAG;AAClE,MAAA,KAAA,MAAW,UAAA,IAAc,OAAO,WAAA,EAAa;AAC3C,QAAA,IAAA,CAAK,IAAA,CAAK;AAAA,UACR,EAAA,EAAI,CAAA,QAAA,EAAW,UAAA,CAAW,KAAK,CAAA,CAAA;AAAA,UAC/B,WAAA,EAAa,CAAA,QAAA,EAAW,UAAA,CAAW,KAAK,CAAA,CAAA;AAAA,UACxC,QAAQ,CAAA,MAAA,EAAS,UAAA,CAAW,eAAe,eAAA,CAAgB,UAAA,CAAW,KAAK,CAAC,CAAA,CAAA;AAAA,UAC5E,IAAA,EAAM,CAAC,EAAE,QAAA,EAAU,KAAI,KAAM;AAC3B,YAAA,MAAM,QAAQ,QAAA,EAAS;AACvB,YAAA,MAAM,OAAA,GAAU,GAAA,CAAI,QAAA,CAAS,cAAA,IAAkB,IAAI,QAAA,CAAS,YAAA;AAC5D,YAAA,uBACEA,GAAAA;AAAA,cAAC,KAAA;AAAA,cAAA;AAAA,gBACC,SAAA,EAAW,EAAA;AAAA,kBACT,gDAAA;AAAA,kBACA,OAAA,IAAW;AAAA,iBACb;AAAA,gBAEC,QAAA,EAAA,YAAA,CAAa,KAAA,EAAO,UAAA,CAAW,WAAW;AAAA;AAAA,aAC7C;AAAA,UAEJ,CAAA;AAAA,UACA,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH;AAAA,IACF;AAEA,IAAA,OAAO,IAAA;AAAA,EACT,CAAA,EAAG,CAAC,MAAA,EAAQ,QAAQ,CAAC,CAAA;AAGrB,EAAA,MAAM,QAAQ,aAAA,CAAc;AAAA,IAC1B,IAAA;AAAA,IACA,OAAA;AAAA,IACA,iBAAiB,eAAA;AAAgB,GAClC,CAAA;AAGD,EAAA,MAAM,iBAAiB,cAAA,CAAe;AAAA,IACpC,KAAA,EAAO,KAAA,CAAM,WAAA,EAAY,CAAE,IAAA,CAAK,MAAA;AAAA,IAChC,gBAAA,EAAkB,MAAM,SAAA,CAAU,OAAA;AAAA,IAClC,cAAc,MAAM,EAAA;AAAA,IACpB,QAAA,EAAU;AAAA,GACX,CAAA;AAED,EAAA,MAAM,WAAA,GAAc,eAAe,eAAA,EAAgB;AACnD,EAAA,MAAM,SAAA,GAAY,eAAe,YAAA,EAAa;AAG9C,EAAA,MAAM,UAAA,GAAa,YAAY,MAAA,GAAS,CAAA,GAAI,YAAY,CAAC,CAAA,EAAG,SAAS,CAAA,GAAI,CAAA;AACzE,EAAA,MAAM,aAAA,GACJ,WAAA,CAAY,MAAA,GAAS,CAAA,GACjB,SAAA,IAAa,WAAA,CAAY,WAAA,CAAY,MAAA,GAAS,CAAC,CAAA,EAAG,GAAA,IAAO,CAAA,CAAA,GACzD,CAAA;AAEN,EAAA,uBACE,IAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,WAAA,EAEb,QAAA,EAAA;AAAA,oBAAAA,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,GAAA,EAAK,SAAA;AAAA,QACL,SAAA,EAAU,iCAAA;AAAA,QACV,KAAA,EAAO,EAAE,MAAA,EAAQ,OAAA,EAAQ;AAAA,QAEzB,+BAAC,KAAA,EAAA,EACC,QAAA,EAAA;AAAA,0BAAAA,IAAC,WAAA,EAAA,EAAY,SAAA,EAAU,mCACpB,QAAA,EAAA,KAAA,CAAM,eAAA,GAAkB,GAAA,CAAI,CAAC,WAAA,qBAC5BA,IAAC,QAAA,EAAA,EACE,QAAA,EAAA,WAAA,CAAY,QAAQ,GAAA,CAAI,CAAC,2BACxBA,GAAAA;AAAA,YAAC,SAAA;AAAA,YAAA;AAAA,cAEC,SAAS,MAAA,CAAO,OAAA;AAAA,cAChB,KAAA,EAAO,EAAE,KAAA,EAAO,MAAA,CAAO,SAAQ,EAAE;AAAA,cACjC,SAAA,EAAU,wBAAA;AAAA,cAET,QAAA,EAAA,MAAA,CAAO,gBACJ,IAAA,GACA,UAAA;AAAA,gBACE,MAAA,CAAO,OAAO,SAAA,CAAU,MAAA;AAAA,gBACxB,OAAO,UAAA;AAAW;AACpB,aAAA;AAAA,YAVC,MAAA,CAAO;AAAA,WAYf,CAAA,EAAA,EAfY,WAAA,CAAY,EAgB3B,CACD,CAAA,EACH,CAAA;AAAA,+BACC,SAAA,EAAA,EACE,QAAA,EAAA;AAAA,YAAA,UAAA,GAAa,CAAA,oBACZA,GAAAA,CAAC,IAAA,EAAA,EACC,0BAAAA,GAAAA,CAAC,IAAA,EAAA,EAAG,KAAA,EAAO,EAAE,MAAA,EAAQ,CAAA,EAAG,UAAU,CAAA,EAAA,CAAA,IAAQ,CAAA,EAC5C,CAAA;AAAA,YAED,WAAA,CAAY,GAAA,CAAI,CAAC,UAAA,KAAe;AAC/B,cAAA,MAAM,MAAM,KAAA,CAAM,WAAA,EAAY,CAAE,IAAA,CAAK,WAAW,KAAK,CAAA;AACrD,cAAA,IAAI,CAAC,KAAK,OAAO,IAAA;AAEjB,cAAA,MAAM,YAAA,GAAe,IAAI,QAAA,CAAS,cAAA;AAClC,cAAA,MAAM,UAAA,GAAa,IAAI,QAAA,CAAS,YAAA;AAEhC,cAAA,uBACEA,GAAAA;AAAA,gBAAC,QAAA;AAAA,gBAAA;AAAA,kBAEC,cAAY,UAAA,CAAW,KAAA;AAAA,kBACvB,SAAA,EAAW,EAAA;AAAA,oBACT,YAAA,IAAgB,gDAAA;AAAA,oBAChB,UAAA,IAAc;AAAA,mBAChB;AAAA,kBAEC,cAAI,eAAA,EAAgB,CAAE,GAAA,CAAI,CAAC,yBAC1BA,GAAAA;AAAA,oBAAC,SAAA;AAAA,oBAAA;AAAA,sBAEC,OAAO,EAAE,KAAA,EAAO,IAAA,CAAK,MAAA,CAAO,SAAQ,EAAE;AAAA,sBAErC,qBAAW,IAAA,CAAK,MAAA,CAAO,UAAU,IAAA,EAAM,IAAA,CAAK,YAAY;AAAA,qBAAA;AAAA,oBAHpD,IAAA,CAAK;AAAA,mBAKb;AAAA,iBAAA;AAAA,gBAdI,GAAA,CAAI;AAAA,eAeX;AAAA,YAEJ,CAAC,CAAA;AAAA,YACA,aAAA,GAAgB,CAAA,oBACfA,GAAAA,CAAC,QACC,QAAA,kBAAAA,GAAAA,CAAC,IAAA,EAAA,EAAG,KAAA,EAAO,EAAE,MAAA,EAAQ,CAAA,EAAG,aAAa,CAAA,EAAA,CAAA,IAAQ,CAAA,EAC/C;AAAA,WAAA,EAEJ;AAAA,SAAA,EACF;AAAA;AAAA,KACF;AAAA,oBAGA,IAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iEAAA,EACb,QAAA,EAAA;AAAA,sBAAA,IAAA,CAAC,KAAA,EAAA,EAAI,QAAA,EAAA;AAAA,QAAA,UAAA;AAAA,QACM,KAAA,CAAM,WAAA,EAAY,CAAE,IAAA,CAAK,MAAA;AAAA,QAAO;AAAA,OAAA,EAC3C,CAAA;AAAA,2BACC,KAAA,EAAA,EACE,QAAA,EAAA;AAAA,QAAA,QAAA,CAAS,QAAA;AAAA,QAAS,aAAA;AAAA,QAAS,QAAA,CAAS,WAAA;AAAA,QAAY;AAAA,OAAA,EACnD;AAAA,KAAA,EACF;AAAA,GAAA,EACF,CAAA;AAEJ,CAAA;AAGO,IAAM,UAAA,GAAa,IAAA,CAAK,mBAAA,EAAqB,CAAC,WAAW,SAAA,KAAc;AAE5E,EAAA,OACE,UAAU,IAAA,KAAS,SAAA,CAAU,IAAA,IAC7B,SAAA,CAAU,aAAa,SAAA,CAAU,QAAA,IACjC,IAAA,CAAK,SAAA,CAAU,UAAU,MAAM,CAAA,KAAM,IAAA,CAAK,SAAA,CAAU,UAAU,MAAM,CAAA;AAExE,CAAC;AAED,UAAA,CAAW,WAAA,GAAc,YAAA;AAKzB,SAAS,oBAAA,CACP,QACA,YAAA,EACY;AACZ,EAAA,IAAI,OAAO,MAAA,KAAW,CAAA,EAAG,OAAO,CAAC,EAAE,CAAA;AAEnC,EAAA,MAAM,CAAC,UAAA,EAAY,GAAG,UAAU,CAAA,GAAI,MAAA;AACpC,EAAA,MAAM,WAAA,GAAc,YAAA,CAAa,UAAU,CAAA,IAAK,EAAC;AAEjD,EAAA,IAAI,UAAA,CAAW,WAAW,CAAA,EAAG;AAC3B,IAAA,OAAO,YAAY,GAAA,CAAI,CAAC,CAAA,KAAM,CAAC,CAAC,CAAC,CAAA;AAAA,EACnC;AAEA,EAAA,MAAM,gBAAA,GAAmB,oBAAA,CAAqB,UAAA,EAAY,YAAY,CAAA;AACtE,EAAA,MAAM,eAA2B,EAAC;AAElC,EAAA,KAAA,MAAW,SAAS,WAAA,EAAa;AAC/B,IAAA,KAAA,MAAW,QAAQ,gBAAA,EAAkB;AACnC,MAAA,YAAA,CAAa,IAAA,CAAK,CAAC,KAAA,EAAO,GAAG,IAAI,CAAC,CAAA;AAAA,IACpC;AAAA,EACF;AAEA,EAAA,OAAO,YAAA;AACT;AAKA,SAAS,gBAAgB,KAAA,EAAuB;AAC9C,EAAA,OAAO,KAAA,CACJ,MAAM,aAAa,CAAA,CACnB,IAAI,CAAC,IAAA,KAAS,KAAK,MAAA,CAAO,CAAC,EAAE,WAAA,EAAY,GAAI,KAAK,KAAA,CAAM,CAAC,EAAE,WAAA,EAAa,CAAA,CACxE,IAAA,CAAK,GAAG,CAAA;AACb;AAMA,SAAS,iBAAiB,KAAA,EAAuB;AAC/C,EAAA,IAAI,KAAA,KAAU,aAAa,OAAO,OAAA;AAClC,EAAA,IAAI,KAAA,KAAU,oBAAoB,OAAO,cAAA;AACzC,EAAA,IAAI,KAAA,KAAU,mBAAmB,OAAO,aAAA;AACxC,EAAA,OAAO,KAAA;AACT;AAKA,SAAS,YAAA,CAAa,OAAY,WAAA,EAA6B;AAC7D,EAAA,IAAI,KAAA,KAAU,IAAA,IAAQ,KAAA,KAAU,MAAA,EAAW,OAAO,QAAA;AAElD,EAAA,MAAM,GAAA,GAAM,OAAO,KAAK,CAAA;AACxB,EAAA,IAAI,KAAA,CAAM,GAAG,CAAA,EAAG,OAAO,OAAO,KAAK,CAAA;AAEnC,EAAA,IAAI,gBAAgB,OAAA,EAAS;AAC3B,IAAA,OAAO,GAAA,CAAI,eAAe,OAAO,CAAA;AAAA,EACnC;AAEA,EAAA,IAAI,gBAAgB,KAAA,EAAO;AACzB,IAAA,OAAO,GAAA,CAAI,eAAe,OAAA,EAAS;AAAA,MACjC,qBAAA,EAAuB,CAAA;AAAA,MACvB,qBAAA,EAAuB;AAAA,KACxB,CAAA;AAAA,EACH;AAEA,EAAA,OAAO,GAAA,CAAI,eAAe,OAAA,EAAS;AAAA,IACjC,qBAAA,EAAuB,CAAA;AAAA,IACvB,qBAAA,EAAuB;AAAA,GACxB,CAAA;AACH;ACpXA,SAAS,IAAA,CAAK,EAAE,SAAA,EAAW,GAAG,OAAM,EAAgC;AAClE,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,SAAA;AAAA,MACL,WAAA,EAAU,MAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,mFAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,UAAA,CAAW,EAAE,SAAA,EAAW,GAAG,OAAM,EAAgC;AACxE,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,aAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,0JAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,SAAA,CAAU;AAAA,EACjB,SAAA;AAAA,EACA,IAAI,SAAA,GAAY,IAAA;AAAA,EAChB,GAAG;AACL,CAAA,EAAkF;AAChF,EAAA,uBACEA,GAAAA;AAAA,IAAC,SAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,YAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,4BAAA,EAA8B,SAAS,CAAA;AAAA,MACpD,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,eAAA,CAAgB,EAAE,SAAA,EAAW,GAAG,OAAM,EAAgC;AAC7E,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,kBAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,+BAAA,EAAiC,SAAS,CAAA;AAAA,MACvD,GAAG;AAAA;AAAA,GACN;AAEJ;AAeA,SAAS,WAAA,CAAY,EAAE,SAAA,EAAW,GAAG,OAAM,EAAgC;AACzE,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,cAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,MAAA,EAAQ,SAAS,CAAA;AAAA,MAC9B,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,UAAA,CAAW,EAAE,SAAA,EAAW,GAAG,OAAM,EAAgC;AACxE,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,aAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,yCAAA,EAA2C,SAAS,CAAA;AAAA,MACjE,GAAG;AAAA;AAAA,GACN;AAEJ;AChFA,IAAM,cAAA,GAAiB,GAAA;AAAA,EACrB,6bAAA;AAAA,EACA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,OAAA,EAAS;AAAA,QACP,OAAA,EAAS,wDAAA;AAAA,QACT,WAAA,EACE,mJAAA;AAAA,QACF,OAAA,EACE,uIAAA;AAAA,QACF,SAAA,EACE,8DAAA;AAAA,QACF,KAAA,EACE,sEAAA;AAAA,QACF,IAAA,EAAM;AAAA,OACR;AAAA,MACA,IAAA,EAAM;AAAA,QACJ,OAAA,EAAS,+BAAA;AAAA,QACT,EAAA,EAAI,+CAAA;AAAA,QACJ,EAAA,EAAI,sCAAA;AAAA,QACJ,IAAA,EAAM,QAAA;AAAA,QACN,SAAA,EAAW,QAAA;AAAA,QACX,SAAA,EAAW;AAAA;AACb,KACF;AAAA,IACA,eAAA,EAAiB;AAAA,MACf,OAAA,EAAS,SAAA;AAAA,MACT,IAAA,EAAM;AAAA;AACR;AAEJ,CAAA;AAEA,SAAS,MAAA,CAAO;AAAA,EACd,SAAA;AAAA,EACA,OAAA;AAAA,EACA,IAAA;AAAA,EACA,OAAA,GAAU,KAAA;AAAA,EACV,GAAG;AACL,CAAA,EAGK;AACH,EAAA,MAAM,IAAA,GAAO,UAAU,IAAA,GAAO,QAAA;AAE9B,EAAA,uBACEA,GAAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,QAAA;AAAA,MACV,SAAA,EAAW,GAAG,cAAA,CAAe,EAAE,SAAS,IAAA,EAAM,SAAA,EAAW,CAAC,CAAA;AAAA,MACzD,GAAG;AAAA;AAAA,GACN;AAEJ;AClDA,SAAS,SAAA,CAAU;AAAA,EACjB,SAAA;AAAA,EACA,WAAA,GAAc,YAAA;AAAA,EACd,UAAA,GAAa,IAAA;AAAA,EACb,GAAG;AACL,CAAA,EAAyD;AACvD,EAAA,uBACEA,GAAAA;AAAA,IAAoB,kBAAA,CAAA,IAAA;AAAA,IAAnB;AAAA,MACC,WAAA,EAAU,WAAA;AAAA,MACV,UAAA;AAAA,MACA,WAAA;AAAA,MACA,SAAA,EAAW,EAAA;AAAA,QACT,gKAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;ACnBA,IAAM,aAAA,GAAgBC,GAAAA;AAAA,EACpB,kZAAA;AAAA,EACA;AAAA,IACE,QAAA,EAAU;AAAA,MACR,OAAA,EAAS;AAAA,QACP,OAAA,EACE,gFAAA;AAAA,QACF,SAAA,EACE,sFAAA;AAAA,QACF,WAAA,EACE,2KAAA;AAAA,QACF,OAAA,EACE;AAAA;AACJ,KACF;AAAA,IACA,eAAA,EAAiB;AAAA,MACf,OAAA,EAAS;AAAA;AACX;AAEJ,CAAA;AAEA,SAAS,KAAA,CAAM;AAAA,EACb,SAAA;AAAA,EACA,OAAA;AAAA,EACA,OAAA,GAAU,KAAA;AAAA,EACV,GAAG;AACL,CAAA,EAC8D;AAC5D,EAAA,MAAM,IAAA,GAAO,UAAUC,IAAAA,GAAO,MAAA;AAE9B,EAAA,uBACEF,GAAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,OAAA;AAAA,MACV,WAAW,EAAA,CAAG,aAAA,CAAc,EAAE,OAAA,EAAS,GAAG,SAAS,CAAA;AAAA,MAClD,GAAG;AAAA;AAAA,GACN;AAEJ;AClBA,IAAM,0BAA0B,CAAC;AAAA,EAC/B,KAAA;AAAA,EACA,SAAA,GAAY,QAAA;AAAA,EACZ,UAAA,GAAa,WAAA;AAAA,EACb,QAAA;AAAA,EACA,KAAA,GAAQ;AACV,CAAA,KAA2B;AACzB,EAAA,MAAM,GAAA,GAAMG,OAAuB,IAAI,CAAA;AACvC,EAAA,MAAM,CAAC,WAAW,YAAY,CAAA,GAAI,SAAoB,EAAE,IAAA,EAAM,QAAQ,CAAA;AAEtE,EAAA,SAAA,CAAU,MAAM;AACd,IAAA,MAAM,KAAK,GAAA,CAAI,OAAA;AACf,IAAA,IAAI,CAAC,EAAA,EAAI;AAET,IAAA,OAAO,SAAA,CAAU;AAAA,MACf,OAAA,EAAS,EAAA;AAAA,MACT,cAAA,EAAgB,OAAO,EAAE,KAAA,EAAO,WAAW,UAAA,EAAW,CAAA;AAAA,MACtD,qBAAA,CAAsB,EAAE,kBAAA,EAAoB,QAAA,EAAU,QAAO,EAAG;AAC9D,QAAA,0BAAA,CAA2B;AAAA,UACzB,kBAAA;AAAA,UACA,WAAW,sBAAA,CAAuB;AAAA,YAChC,SAAS,MAAA,CAAO,OAAA;AAAA,YAChB,KAAA,EAAO,SAAS,OAAA,CAAQ;AAAA,WACzB,CAAA;AAAA,UACD,MAAA,CAAO,EAAE,SAAA,EAAU,EAAG;AACpB,YAAA,YAAA,CAAa,EAAE,IAAA,EAAM,SAAA,EAAW,SAAA,EAAW,CAAA;AAC3C,YAAA,OAAO,MAAM,YAAA,CAAa,EAAE,IAAA,EAAM,YAAY,CAAA;AAAA,UAChD;AAAA,SACD,CAAA;AAAA,MACH,CAAA;AAAA,MACA,WAAA,GAAc;AACZ,QAAA,YAAA,CAAa,EAAE,IAAA,EAAM,UAAA,EAAY,CAAA;AAAA,MACnC,CAAA;AAAA,MACA,MAAA,GAAS;AACP,QAAA,YAAA,CAAa,EAAE,IAAA,EAAM,MAAA,EAAQ,CAAA;AAAA,MAC/B;AAAA,KACD,CAAA;AAAA,EACH,CAAA,EAAG,CAAC,KAAA,EAAO,SAAA,EAAW,UAAU,CAAC,CAAA;AAEjC,EAAA,MAAM,eAAe,MAAM;AACzB,IAAA,QAAQ,SAAA;AAAW,MACjB,KAAK,QAAA;AACH,QAAA,uBAAOH,GAAAA,CAAC,IAAA,EAAA,EAAK,SAAA,EAAU,SAAA,EAAU,CAAA;AAAA,MACnC,KAAK,MAAA;AACH,QAAA,uBAAOA,GAAAA,CAAC,QAAA,EAAA,EAAS,SAAA,EAAU,SAAA,EAAU,CAAA;AAAA,MACvC,KAAK,SAAA;AACH,QAAA,uBAAOA,GAAAA,CAAC,UAAA,EAAA,EAAW,SAAA,EAAU,SAAA,EAAU,CAAA;AAAA,MACzC;AACE,QAAA,uBAAOA,GAAAA,CAAC,IAAA,EAAA,EAAK,SAAA,EAAU,SAAA,EAAU,CAAA;AAAA;AACrC,EACF,CAAA;AAEA,EAAA,uBACEI,KAAA,QAAA,EAAA,EACE,QAAA,EAAA;AAAA,oBAAAJ,GAAAA,CAAC,KAAA,EAAA,EAAI,GAAA,EAAU,SAAA,EAAU,sBACvB,QAAA,kBAAAI,IAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,OAAA,EAAQ,SAAA;AAAA,QACR,SAAA,EAAW,EAAA;AAAA,UACT,8DAAA;AAAA,UACA,SAAA,CAAU,SAAS,UAAA,IAAc,4BAAA;AAAA,UACjC,KAAA,IAAS;AAAA,SACX;AAAA,QAEA,QAAA,EAAA;AAAA,0BAAAA,IAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,2BAAA,EACb,QAAA,EAAA;AAAA,YAAA,YAAA,EAAa;AAAA,4BACdJ,IAAC,MAAA,EAAA,EAAK,SAAA,EAAU,eAAe,QAAA,EAAAK,gBAAAA,CAAgB,KAAK,CAAA,EAAE,CAAA;AAAA,YACrD,yBACCL,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,0CAAyC,QAAA,EAAA,QAAA,EAAM;AAAA,WAAA,EAEnE,CAAA;AAAA,UACC,UAAA,KAAe,WAAA,IAAe,QAAA,oBAC7BA,GAAAA;AAAA,YAAC,MAAA;AAAA,YAAA;AAAA,cACC,OAAA,EAAQ,OAAA;AAAA,cACR,IAAA,EAAK,IAAA;AAAA,cACL,SAAA,EAAU,uHAAA;AAAA,cACV,OAAA,EAAS,CAAC,CAAA,KAAM;AACd,gBAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,gBAAA,QAAA,EAAS;AAAA,cACX,CAAA;AAAA,cAEA,QAAA,kBAAAA,GAAAA,CAAC,CAAA,EAAA,EAAE,SAAA,EAAU,aAAA,EAAc;AAAA;AAAA;AAC7B;AAAA;AAAA,KAEJ,EACF,CAAA;AAAA,IAGC,SAAA,CAAU,SAAS,SAAA,IAClB,YAAA;AAAA,sBACEA,GAAAA,CAAC,KAAA,EAAA,EAAM,OAAA,EAAQ,SAAA,EAAU,SAAA,EAAU,uBAAA,EACjC,QAAA,kBAAAI,IAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,2BAAA,EACb,QAAA,EAAA;AAAA,QAAA,YAAA,EAAa;AAAA,wBACdJ,IAAC,MAAA,EAAA,EAAK,SAAA,EAAU,eAAe,QAAA,EAAAK,gBAAAA,CAAgB,KAAK,CAAA,EAAE;AAAA,OAAA,EACxD,CAAA,EACF,CAAA;AAAA,MACA,SAAA,CAAU;AAAA;AACZ,GAAA,EACJ,CAAA;AAEJ,CAAA;AAKA,SAASA,iBAAgB,KAAA,EAAuB;AAC9C,EAAA,OAAO,KAAA,CACJ,MAAM,aAAa,CAAA,CACnB,IAAI,CAAC,IAAA,KAAS,KAAK,MAAA,CAAO,CAAC,EAAE,WAAA,EAAY,GAAI,KAAK,KAAA,CAAM,CAAC,EAAE,WAAA,EAAa,CAAA,CACxE,IAAA,CAAK,GAAG,CAAA;AACb;AAMO,IAAM,cAAA,GAAiBC,KAAK,uBAAuB;AC3H1D,IAAM,oBAAoB,CAAC;AAAA,EACzB,KAAA;AAAA,EACA,WAAA;AAAA,EACA,MAAA;AAAA,EACA,UAAA;AAAA,EACA,aAAA;AAAA,EACA,IAAA;AAAA,EACA;AACF,CAAA,KAAqB;AACnB,EAAA,MAAM,GAAA,GAAMH,OAAuB,IAAI,CAAA;AACvC,EAAA,MAAM,CAAC,aAAA,EAAe,gBAAgB,CAAA,GAAII,SAAS,KAAK,CAAA;AAExD,EAAAC,UAAU,MAAM;AACd,IAAA,MAAM,KAAK,GAAA,CAAI,OAAA;AACf,IAAA,IAAI,CAAC,EAAA,EAAI;AAET,IAAA,OAAO,qBAAA,CAAsB;AAAA,MAC3B,OAAA,EAAS,EAAA;AAAA,MACT,WAAA,EAAa,MAAM,gBAAA,CAAiB,IAAI,CAAA;AAAA,MACxC,WAAA,EAAa,MAAM,gBAAA,CAAiB,KAAK,CAAA;AAAA,MACzC,MAAA,EAAQ,CAAC,EAAE,MAAA,EAAO,KAAM;AACtB,QAAA,gBAAA,CAAiB,KAAK,CAAA;AACtB,QAAA,MAAM,OAAO,MAAA,CAAO,IAAA;AAKpB,QAAA,IAAI,KAAK,KAAA,EAAO;AACd,UAAA,UAAA,CAAW,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,UAAU,CAAA;AAAA,QACxC;AAAA,MACF;AAAA,KACD,CAAA;AAAA,EACH,CAAA,EAAG,CAAC,UAAU,CAAC,CAAA;AAGf,EAAA,MAAM,YAAA,GAAeC,QAAQ,MAAM;AACjC,IAAA,OAAO,CAAC,SAAA,KAA8B;AACpC,MAAA,MAAM,YAAY,eAAA,CAAgB,IAAA,CAAK,CAAC,CAAA,KAAM,CAAA,CAAE,SAAS,SAAS,CAAA;AAClE,MAAA,OAAO,WAAW,IAAA,IAAQ,QAAA;AAAA,IAC5B,CAAA;AAAA,EACF,CAAA,EAAG,CAAC,eAAe,CAAC,CAAA;AAEpB,EAAA,uBACEL,KAAC,KAAA,EAAA,EACC,QAAA,EAAA;AAAA,oBAAAJ,GAAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,0BAAA,EAA4B,QAAA,EAAA,KAAA,EAAM,CAAA;AAAA,IAC/C,+BACCA,GAAAA,CAAC,GAAA,EAAA,EAAE,SAAA,EAAU,sCAAsC,QAAA,EAAA,WAAA,EAAY,CAAA;AAAA,oBAEjEA,GAAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,GAAA;AAAA,QACA,SAAA,EAAW,EAAA;AAAA,UACT,sEAAA;AAAA,UACA,gBACI,6BAAA,GACA,wCAAA;AAAA,UACJ,MAAA,CAAO,WAAW,CAAA,IAAK;AAAA,SACzB;AAAA,QAEC,QAAA,EAAA,MAAA,CAAO,MAAA,GAAS,CAAA,mBACfA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,sBAAA,EACZ,QAAA,EAAA,MAAA,CAAO,GAAA,CAAI,CAAC,KAAA,EAAO,0BAClBA,GAAAA;AAAA,UAAC,cAAA;AAAA,UAAA;AAAA,YAEC,KAAA;AAAA,YACA,SAAA,EAAW,aAAa,KAAK,CAAA;AAAA,YAC7B,UAAA,EAAY,IAAA;AAAA,YACZ,QAAA,EAAU,MAAM,aAAA,CAAc,KAAK;AAAA,WAAA;AAAA,UAJ9B,CAAA,EAAG,KAAK,CAAA,CAAA,EAAI,KAAK,CAAA;AAAA,SAMzB,GACH,CAAA,mBAEAA,IAAC,GAAA,EAAA,EAAE,SAAA,EAAU,6CAA4C,QAAA,EAAA,kBAAA,EAEzD;AAAA;AAAA;AAEJ,GAAA,EACF,CAAA;AAEJ,CAAA;AAMO,IAAM,QAAA,GAAWM,KAAK,iBAAiB;AC5EvC,SAAS,WAAW,EAAE,MAAA,EAAQ,aAAA,EAAe,eAAA,EAAiB,gBAAe,EAAoB;AACtG,EAAA,MAAM,SAAS,SAAA,EAAU;AACzB,EAAA,MAAM,WAAW,WAAA,EAAY;AAC7B,EAAA,MAAM,CAAC,SAAA,EAAW,eAAe,CAAA,GAAI,aAAA,EAAc;AAGnD,EAAA,MAAM,kBAAA,GAAqBH,OAA8B,IAAI,CAAA;AAG7D,EAAAK,UAAU,MAAM;AACd,IAAA,OAAO,MAAM;AACX,MAAA,IAAI,mBAAmB,OAAA,EAAS;AAC9B,QAAA,YAAA,CAAa,mBAAmB,OAAO,CAAA;AAAA,MACzC;AAAA,IACF,CAAA;AAAA,EACF,CAAA,EAAG,EAAE,CAAA;AAIL,EAAA,MAAM,kBAAA,GAAqB,YAAY,MAAM;AAC3C,IAAA,MAAM,UAAA,uBAAiB,GAAA,CAAI;AAAA,MACzB,GAAG,MAAA,CAAO,SAAA;AAAA,MACV,GAAG,MAAA,CAAO,YAAA;AAAA,MACV,GAAG,MAAA,CAAO,WAAA,CAAY,GAAA,CAAI,CAAA,CAAA,KAAK,EAAE,KAAK;AAAA,KACvC,CAAA;AAGD,IAAA,OAAO,eAAA,CAAgB,IAAI,CAAA,CAAA,MAAM;AAAA,MAC/B,GAAG,CAAA;AAAA,MACH,KAAA,EAAO,UAAA,CAAW,GAAA,CAAI,CAAA,CAAE,IAAI;AAAA,KAC9B,CAAE,CAAA;AAAA,EACJ,CAAA,EAAG,CAAC,MAAA,EAAQ,eAAe,CAAC,CAAA;AAG5B,EAAA,MAAM,kBAAA,GAAqB,WAAA,CAAY,CAAC,SAAA,KAA2B;AACjE,IAAA,MAAM,MAAA,GAAS,IAAI,eAAA,EAAgB;AACnC,IAAA,IAAI,SAAA,CAAU,SAAA,CAAU,MAAA,GAAS,CAAA,EAAG;AAClC,MAAA,MAAA,CAAO,IAAI,MAAA,EAAQ,SAAA,CAAU,SAAA,CAAU,IAAA,CAAK,GAAG,CAAC,CAAA;AAAA,IAClD;AACA,IAAA,IAAI,SAAA,CAAU,YAAA,CAAa,MAAA,GAAS,CAAA,EAAG;AACrC,MAAA,MAAA,CAAO,IAAI,SAAA,EAAW,SAAA,CAAU,YAAA,CAAa,IAAA,CAAK,GAAG,CAAC,CAAA;AAAA,IACxD;AACA,IAAA,MAAA,CAAO,IAAI,eAAA,EAAiB,MAAA,CAAO,SAAA,CAAU,OAAA,CAAQ,aAAa,CAAC,CAAA;AACnE,IAAA,MAAA,CAAO,IAAI,kBAAA,EAAoB,MAAA,CAAO,SAAA,CAAU,OAAA,CAAQ,gBAAgB,CAAC,CAAA;AACzE,IAAA,MAAA,CAAO,IAAI,gBAAA,EAAkB,MAAA,CAAO,SAAA,CAAU,OAAA,CAAQ,cAAc,CAAC,CAAA;AAGrE,IAAA,eAAA,CAAgB,MAAM;AAEpB,MAAA,MAAA,CAAO,IAAA,CAAK,QAAA,GAAW,GAAA,GAAM,MAAA,CAAO,UAAU,CAAA;AAAA,IAChD,CAAC,CAAA;AAAA,EACH,CAAA,EAAG,CAAC,MAAA,EAAQ,QAAA,EAAU,eAAe,CAAC,CAAA;AAItC,EAAA,MAAM,kBAAA,GAAqB,WAAA,CAAY,CAAC,SAAA,KAA2B;AAEjE,IAAA,IAAI,mBAAmB,OAAA,EAAS;AAC9B,MAAA,YAAA,CAAa,mBAAmB,OAAO,CAAA;AAAA,IACzC;AAGA,IAAA,kBAAA,CAAmB,OAAA,GAAU,WAAW,MAAM;AAC5C,MAAA,kBAAA,CAAmB,SAAS,CAAA;AAAA,IAC9B,GAAG,GAAG,CAAA;AAAA,EACR,CAAA,EAAG,CAAC,kBAAkB,CAAC,CAAA;AAGvB,EAAA,MAAM,iBAAA,GAAoB,WAAA;AAAA,IACxB,CAAC,WAAmB,UAAA,KAAkD;AAEpE,MAAA,IAAI,eAAe,MAAA,IAAU,MAAA,CAAO,SAAA,CAAU,QAAA,CAAS,SAAS,CAAA,EAAG;AACjE,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,SAAA,GAAY,EAAE,GAAG,MAAA,EAAO;AAG5B,MAAA,IAAI,eAAe,SAAA,EAAW;AAC5B,QAAA,SAAA,CAAU,eAAe,SAAA,CAAU,YAAA,CAAa,OAAO,CAAC,CAAA,KAAM,MAAM,SAAS,CAAA;AAAA,MAC/E;AAGA,MAAA,IAAI,CAAC,SAAA,CAAU,SAAA,CAAU,QAAA,CAAS,SAAS,CAAA,EAAG;AAC5C,QAAA,SAAA,CAAU,SAAA,GAAY,CAAC,GAAG,SAAA,CAAU,WAAW,SAAS,CAAA;AAAA,MAC1D;AAGA,MAAA,cAAA,CAAe,SAAS,CAAA;AAExB,MAAA,kBAAA,CAAmB,SAAS,CAAA;AAAA,IAC9B,CAAA;AAAA,IACA,CAAC,MAAA,EAAQ,cAAA,EAAgB,kBAAkB;AAAA,GAC7C;AAGA,EAAA,MAAM,oBAAA,GAAuB,WAAA;AAAA,IAC3B,CAAC,WAAmB,UAAA,KAAkD;AAEpE,MAAA,IAAI,eAAe,SAAA,IAAa,MAAA,CAAO,YAAA,CAAa,QAAA,CAAS,SAAS,CAAA,EAAG;AACvE,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,SAAA,GAAY,EAAE,GAAG,MAAA,EAAO;AAG5B,MAAA,IAAI,eAAe,MAAA,EAAQ;AACzB,QAAA,SAAA,CAAU,YAAY,SAAA,CAAU,SAAA,CAAU,OAAO,CAAC,CAAA,KAAM,MAAM,SAAS,CAAA;AAAA,MACzE;AAGA,MAAA,IAAI,CAAC,SAAA,CAAU,YAAA,CAAa,QAAA,CAAS,SAAS,CAAA,EAAG;AAC/C,QAAA,SAAA,CAAU,YAAA,GAAe,CAAC,GAAG,SAAA,CAAU,cAAc,SAAS,CAAA;AAAA,MAChE;AAGA,MAAA,cAAA,CAAe,SAAS,CAAA;AACxB,MAAA,kBAAA,CAAmB,SAAS,CAAA;AAAA,IAC9B,CAAA;AAAA,IACA,CAAC,MAAA,EAAQ,cAAA,EAAgB,kBAAkB;AAAA,GAC7C;AAGA,EAAA,MAAM,iBAAA,GAAoB,WAAA,CAAY,CAAC,KAAA,EAAe,IAAA,KAA6B;AACjF,IAAA,MAAM,SAAA,GAAY;AAAA,MAChB,GAAG,MAAA;AAAA,MACH,CAAC,IAAA,KAAS,MAAA,GAAS,WAAA,GAAc,cAAc,GAAG,MAAA,CAChD,IAAA,KAAS,MAAA,GAAS,cAAc,cAClC,CAAA,CAAE,MAAA,CAAO,CAAA,CAAA,KAAK,MAAM,KAAK;AAAA,KAC3B;AAEA,IAAA,cAAA,CAAe,SAAS,CAAA;AACxB,IAAA,kBAAA,CAAmB,SAAS,CAAA;AAAA,EAC9B,CAAA,EAAG,CAAC,MAAA,EAAQ,cAAA,EAAgB,kBAAkB,CAAC,CAAA;AAG/C,EAAA,MAAM,WAAA,GAAc,YAAY,MAAM;AAEpC,IAAA,cAAA,CAAe,aAAa,CAAA;AAE5B,IAAA,IAAI,mBAAmB,OAAA,EAAS;AAC9B,MAAA,YAAA,CAAa,mBAAmB,OAAO,CAAA;AAAA,IACzC;AACA,IAAA,kBAAA,CAAmB,aAAa,CAAA;AAAA,EAClC,CAAA,EAAG,CAAC,aAAA,EAAe,cAAA,EAAgB,kBAAkB,CAAC,CAAA;AAEtD,EAAA,uBACEJ,KAAC,IAAA,EAAA,EACC,QAAA,EAAA;AAAA,oBAAAJ,IAAC,UAAA,EAAA,EACC,QAAA,kBAAAI,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,mCAAA,EACb,QAAA,EAAA;AAAA,sBAAAA,KAAC,KAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAA,IAAAA,CAAC,SAAA,EAAA,EAAU,SAAA,EAAU,yBAAA,EACnB,QAAA,EAAA;AAAA,0BAAAJ,GAAAA,CAAC,SAAA,EAAA,EAAU,SAAA,EAAU,SAAA,EAAU,CAAA;AAAA,UAAE,qBAAA;AAAA,UAEhC,SAAA,oBACCA,GAAAA,CAAC,OAAA,EAAA,EAAQ,WAAU,4CAAA,EAA6C;AAAA,SAAA,EAEpE,CAAA;AAAA,wBACAA,GAAAA,CAAC,eAAA,EAAA,EACE,QAAA,EAAA,SAAA,GAAY,4BAA4B,2CAAA,EAC3C;AAAA,OAAA,EACF,CAAA;AAAA,sBACAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,YAAA,EACb,QAAA,kBAAAI,IAAAA,CAAC,MAAA,EAAA,EAAO,OAAA,EAAQ,SAAA,EAAU,IAAA,EAAK,IAAA,EAAK,SAAS,WAAA,EAC3C,QAAA,EAAA;AAAA,wBAAAJ,GAAAA,CAAC,SAAA,EAAA,EAAU,SAAA,EAAU,cAAA,EAAe,CAAA;AAAA,QAAE;AAAA,OAAA,EAExC,CAAA,EACF;AAAA,KAAA,EACF,CAAA,EACF,CAAA;AAAA,oBACAI,IAAAA,CAAC,WAAA,EAAA,EAAY,SAAA,EAAU,WAAA,EAErB,QAAA,EAAA;AAAA,sBAAAA,KAAC,KAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAJ,GAAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,0BAAA,EAA2B,QAAA,EAAA,kBAAA,EAAgB,CAAA;AAAA,wBACzDA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,qFAAA,EACZ,QAAA,EAAA,kBAAA,EAAmB,CAAE,MAAA,GAAS,CAAA,GAC7B,kBAAA,EAAmB,CAAE,GAAA,CAAI,2BACvBA,GAAAA;AAAA,UAAC,cAAA;AAAA,UAAA;AAAA,YAEC,OAAO,KAAA,CAAM,IAAA;AAAA,YACb,WAAW,KAAA,CAAM,IAAA;AAAA,YACjB,UAAA,EAAW,WAAA;AAAA,YACX,OAAO,KAAA,CAAM;AAAA,WAAA;AAAA,UAJR,KAAA,CAAM;AAAA,SAMd,oBAEDA,GAAAA,CAAC,OAAE,SAAA,EAAU,kDAAA,EAAmD,iCAEhE,CAAA,EAEJ;AAAA,OAAA,EACF,CAAA;AAAA,sBAEAA,IAAC,SAAA,EAAA,EAAU,CAAA;AAAA,sBAGXA,GAAAA;AAAA,QAAC,QAAA;AAAA,QAAA;AAAA,UACC,KAAA,EAAM,YAAA;AAAA,UACN,WAAA,EAAY,2BAAA;AAAA,UACZ,QAAQ,MAAA,CAAO,SAAA;AAAA,UACf,UAAA,EAAY,iBAAA;AAAA,UACZ,aAAA,EAAe,CAAC,KAAA,KAAU,iBAAA,CAAkB,OAAO,MAAM,CAAA;AAAA,UACzD,IAAA,EAAK,MAAA;AAAA,UACL;AAAA;AAAA,OACF;AAAA,sBAEAA,IAAC,SAAA,EAAA,EAAU,CAAA;AAAA,sBAGXA,GAAAA;AAAA,QAAC,QAAA;AAAA,QAAA;AAAA,UACC,KAAA,EAAM,eAAA;AAAA,UACN,WAAA,EAAY,2BAAA;AAAA,UACZ,QAAQ,MAAA,CAAO,YAAA;AAAA,UACf,UAAA,EAAY,oBAAA;AAAA,UACZ,aAAA,EAAe,CAAC,KAAA,KAAU,iBAAA,CAAkB,OAAO,SAAS,CAAA;AAAA,UAC5D,IAAA,EAAK,SAAA;AAAA,UACL;AAAA;AAAA,OACF;AAAA,sBAEAA,IAAC,SAAA,EAAA,EAAU,CAAA;AAAA,sBAGXI,KAAC,KAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAJ,GAAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,0BAAA,EAA2B,QAAA,EAAA,cAAA,EAAY,CAAA;AAAA,wBACrDA,GAAAA,CAAC,GAAA,EAAA,EAAE,SAAA,EAAU,sCAAqC,QAAA,EAAA,sBAAA,EAElD,CAAA;AAAA,wBACAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,WAAA,EACZ,QAAA,EAAA,MAAA,CAAO,WAAA,CAAY,GAAA,CAAI,CAAC,EAAA,EAAI,KAAA,qBAC3BA,GAAAA;AAAA,UAAC,KAAA;AAAA,UAAA;AAAA,YAEC,SAAA,EAAU,4DAAA;AAAA,YAEV,QAAA,kBAAAI,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,QAAA,EACb,QAAA,EAAA;AAAA,8BAAAJ,IAAC,KAAA,EAAA,EAAI,SAAA,EAAU,uBAAuB,QAAA,EAAA,EAAA,CAAG,WAAA,IAAe,GAAG,KAAA,EAAM,CAAA;AAAA,8BACjEI,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,+BAAA,EAAgC,QAAA,EAAA;AAAA,gBAAA,eAAA;AAAA,gBAC/B,EAAA,CAAG,YAAY,WAAA;AAAY,eAAA,EAC3C;AAAA,aAAA,EACF;AAAA,WAAA;AAAA,UARK;AAAA,SAUR,CAAA,EACH;AAAA,OAAA,EACF;AAAA,KAAA,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;ACvQA,SAAS,MAAA,CAAO;AAAA,EACd,GAAG;AACL,CAAA,EAAsD;AACpD,EAAA,uBAAOJ,GAAAA,CAAiB,eAAA,CAAA,IAAA,EAAhB,EAAqB,WAAA,EAAU,QAAA,EAAU,GAAG,KAAA,EAAO,CAAA;AAC7D;AAEA,SAAS,aAAA,CAAc;AAAA,EACrB,GAAG;AACL,CAAA,EAAyD;AACvD,EAAA,uBAAOA,GAAAA,CAAiB,eAAA,CAAA,OAAA,EAAhB,EAAwB,WAAA,EAAU,gBAAA,EAAkB,GAAG,KAAA,EAAO,CAAA;AACxE;AAEA,SAAS,YAAA,CAAa;AAAA,EACpB,GAAG;AACL,CAAA,EAAwD;AACtD,EAAA,uBAAOA,GAAAA,CAAiB,eAAA,CAAA,MAAA,EAAhB,EAAuB,WAAA,EAAU,eAAA,EAAiB,GAAG,KAAA,EAAO,CAAA;AACtE;AAQA,SAAS,aAAA,CAAc;AAAA,EACrB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAyD;AACvD,EAAA,uBACEA,GAAAA;AAAA,IAAiB,eAAA,CAAA,OAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,gBAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,wJAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,aAAA,CAAc;AAAA,EACrB,SAAA;AAAA,EACA,QAAA;AAAA,EACA,eAAA,GAAkB,IAAA;AAAA,EAClB,GAAG;AACL,CAAA,EAEG;AACD,EAAA,uBACEI,IAAAA,CAAC,YAAA,EAAA,EAAa,WAAA,EAAU,eAAA,EACtB,QAAA,EAAA;AAAA,oBAAAJ,IAAC,aAAA,EAAA,EAAc,CAAA;AAAA,oBACfI,IAAAA;AAAA,MAAiB,eAAA,CAAA,OAAA;AAAA,MAAhB;AAAA,QACC,WAAA,EAAU,gBAAA;AAAA,QACV,SAAA,EAAW,EAAA;AAAA,UACT,6WAAA;AAAA,UACA;AAAA,SACF;AAAA,QACC,GAAG,KAAA;AAAA,QAEH,QAAA,EAAA;AAAA,UAAA,QAAA;AAAA,UACA,mCACCA,IAAAA;AAAA,YAAiB,eAAA,CAAA,KAAA;AAAA,YAAhB;AAAA,cACC,WAAA,EAAU,cAAA;AAAA,cACV,SAAA,EAAU,mWAAA;AAAA,cAEV,QAAA,EAAA;AAAA,gCAAAJ,IAAC,KAAA,EAAA,EAAM,CAAA;AAAA,gCACPA,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,WAAU,QAAA,EAAA,OAAA,EAAK;AAAA;AAAA;AAAA;AACjC;AAAA;AAAA;AAEJ,GAAA,EACF,CAAA;AAEJ;AAEA,SAAS,YAAA,CAAa,EAAE,SAAA,EAAW,GAAG,OAAM,EAAgC;AAC1E,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,eAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,8CAAA,EAAgD,SAAS,CAAA;AAAA,MACtE,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,YAAA,CAAa,EAAE,SAAA,EAAW,GAAG,OAAM,EAAgC;AAC1E,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,eAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,wDAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,WAAA,CAAY;AAAA,EACnB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAuD;AACrD,EAAA,uBACEA,GAAAA;AAAA,IAAiB,eAAA,CAAA,KAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,cAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,oCAAA,EAAsC,SAAS,CAAA;AAAA,MAC5D,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,iBAAA,CAAkB;AAAA,EACzB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA6D;AAC3D,EAAA,uBACEA,GAAAA;AAAA,IAAiB,eAAA,CAAA,WAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,oBAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,+BAAA,EAAiC,SAAS,CAAA;AAAA,MACvD,GAAG;AAAA;AAAA,GACN;AAEJ;AC1HA,SAAS,KAAA,CAAM;AAAA,EACb,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAqD;AACnD,EAAA,uBACEA,GAAAA;AAAA,IAAgB,cAAA,CAAA,IAAA;AAAA,IAAf;AAAA,MACC,WAAA,EAAU,OAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,qNAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;ACbA,SAAS,UAAA,CAAW;AAAA,EAClB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA0D;AACxD,EAAA,uBACEA,GAAAA;AAAA,IAAqB,mBAAA,CAAA,IAAA;AAAA,IAApB;AAAA,MACC,WAAA,EAAU,aAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,YAAA,EAAc,SAAS,CAAA;AAAA,MACpC,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,cAAA,CAAe;AAAA,EACtB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA0D;AACxD,EAAA,uBACEA,GAAAA;AAAA,IAAqB,mBAAA,CAAA,IAAA;AAAA,IAApB;AAAA,MACC,WAAA,EAAU,kBAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,wXAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEJ,QAAA,kBAAAA,GAAAA;AAAA,QAAqB,mBAAA,CAAA,SAAA;AAAA,QAApB;AAAA,UACC,WAAA,EAAU,uBAAA;AAAA,UACV,SAAA,EAAU,2CAAA;AAAA,UAEV,QAAA,kBAAAA,GAAAA,CAAC,UAAA,EAAA,EAAW,SAAA,EAAU,iFAAA,EAAkF;AAAA;AAAA;AAC1G;AAAA,GACF;AAEJ;AClBO,SAAS,YAAA,CAAa,EAAE,IAAA,EAAM,QAAA,GAAW,gBAAe,EAAsB;AACnF,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAIO,SAAS,KAAK,CAAA;AACtC,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAIA,SAAuB,KAAK,CAAA;AACxD,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAIA,SAAS,KAAK,CAAA;AAEpD,EAAA,MAAM,eAAe,YAAY;AAC/B,IAAA,cAAA,CAAe,IAAI,CAAA;AACnB,IAAA,IAAI;AACF,MAAA,MAAM,MAAA,GAAS,MAAM,eAAA,CAAgB,IAAA,EAAM,MAAM,CAAA;AAGjD,MAAA,IAAI,IAAA;AACJ,MAAA,IAAI,gBAAA;AAEJ,MAAA,IAAI,WAAW,KAAA,EAAO;AACpB,QAAA,IAAA,GAAO,IAAI,KAAK,CAAC,MAAgB,GAAG,EAAE,IAAA,EAAM,YAAY,CAAA;AACxD,QAAA,gBAAA,GAAmB,CAAA,EAAG,QAAQ,CAAA,CAAA,EAAI,IAAA,CAAK,KAAK,CAAA,IAAA,CAAA;AAAA,MAC9C,CAAA,MAAA,IAAW,WAAW,OAAA,EAAS;AAC7B,QAAA,IAAA,GAAO,MAAA;AACP,QAAA,gBAAA,GAAmB,CAAA,EAAG,QAAQ,CAAA,CAAA,EAAI,IAAA,CAAK,KAAK,CAAA,KAAA,CAAA;AAAA,MAC9C,CAAA,MAAO;AACL,QAAA,IAAA,GAAO,IAAI,KAAK,CAAC,MAAgB,GAAG,EAAE,IAAA,EAAM,oBAAoB,CAAA;AAChE,QAAA,gBAAA,GAAmB,CAAA,EAAG,QAAQ,CAAA,CAAA,EAAI,IAAA,CAAK,KAAK,CAAA,KAAA,CAAA;AAAA,MAC9C;AAGA,MAAA,MAAM,GAAA,GAAM,GAAA,CAAI,eAAA,CAAgB,IAAI,CAAA;AACpC,MAAA,MAAM,CAAA,GAAI,QAAA,CAAS,aAAA,CAAc,GAAG,CAAA;AACpC,MAAA,CAAA,CAAE,IAAA,GAAO,GAAA;AACT,MAAA,CAAA,CAAE,QAAA,GAAW,gBAAA;AACb,MAAA,QAAA,CAAS,IAAA,CAAK,YAAY,CAAC,CAAA;AAC3B,MAAA,CAAA,CAAE,KAAA,EAAM;AACR,MAAA,QAAA,CAAS,IAAA,CAAK,YAAY,CAAC,CAAA;AAC3B,MAAA,GAAA,CAAI,gBAAgB,GAAG,CAAA;AAEvB,MAAA,OAAA,CAAQ,KAAK,CAAA;AAAA,IACf,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAM,kBAAkB,KAAK,CAAA;AACrC,MAAA,KAAA,CAAM,kCAAkC,CAAA;AAAA,IAC1C,CAAA,SAAE;AACA,MAAA,cAAA,CAAe,KAAK,CAAA;AAAA,IACtB;AAAA,EACF,CAAA;AAEA,EAAA,uBACEH,IAAAA,CAAC,MAAA,EAAA,EAAO,IAAA,EAAY,cAAc,OAAA,EAChC,QAAA,EAAA;AAAA,oBAAAJ,GAAAA,CAAC,aAAA,EAAA,EAAc,OAAA,EAAO,IAAA,EACpB,QAAA,kBAAAI,KAAC,MAAA,EAAA,EAAO,OAAA,EAAQ,SAAA,EAAU,IAAA,EAAK,IAAA,EAC7B,QAAA,EAAA;AAAA,sBAAAJ,GAAAA,CAAC,QAAA,EAAA,EAAS,SAAA,EAAU,cAAA,EAAe,CAAA;AAAA,MAAE;AAAA,KAAA,EAEvC,CAAA,EACF,CAAA;AAAA,oBACAI,IAAAA,CAAC,aAAA,EAAA,EAAc,SAAA,EAAU,aAAA,EACvB,QAAA,EAAA;AAAA,sBAAAA,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAJ,GAAAA,CAAC,eAAY,QAAA,EAAA,oBAAA,EAAkB,CAAA;AAAA,wBAC/BA,GAAAA,CAAC,iBAAA,EAAA,EAAkB,QAAA,EAAA,iDAAA,EAEnB;AAAA,OAAA,EACF,CAAA;AAAA,sBACAA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kBACb,QAAA,kBAAAI,IAAAA,CAAC,UAAA,EAAA,EAAW,KAAA,EAAO,QAAQ,aAAA,EAAe,CAAC,KAAA,KAAU,SAAA,CAAU,KAAqB,CAAA,EAClF,QAAA,EAAA;AAAA,wBAAAA,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,6BAAA,EACb,QAAA,EAAA;AAAA,0BAAAJ,GAAAA,CAAC,cAAA,EAAA,EAAe,KAAA,EAAM,KAAA,EAAM,IAAG,KAAA,EAAM,CAAA;AAAA,0BACrCA,IAAC,KAAA,EAAA,EAAM,OAAA,EAAQ,OAAM,SAAA,EAAU,uBAAA,EAC7B,QAAA,kBAAAI,IAAAA,CAAC,KAAA,EAAA,EACC,QAAA,EAAA;AAAA,4BAAAJ,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,aAAA,EAAc,QAAA,EAAA,KAAA,EAAG,CAAA;AAAA,4BAChCA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iCAAgC,QAAA,EAAA,+DAAA,EAE/C;AAAA,WAAA,EACF,CAAA,EACF;AAAA,SAAA,EACF,CAAA;AAAA,wBACAI,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,6BAAA,EACb,QAAA,EAAA;AAAA,0BAAAJ,GAAAA,CAAC,cAAA,EAAA,EAAe,KAAA,EAAM,OAAA,EAAQ,IAAG,OAAA,EAAQ,CAAA;AAAA,0BACzCA,IAAC,KAAA,EAAA,EAAM,OAAA,EAAQ,SAAQ,SAAA,EAAU,uBAAA,EAC/B,QAAA,kBAAAI,IAAAA,CAAC,KAAA,EAAA,EACC,QAAA,EAAA;AAAA,4BAAAJ,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,aAAA,EAAc,QAAA,EAAA,OAAA,EAAK,CAAA;AAAA,4BAClCA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iCAAgC,QAAA,EAAA,wCAAA,EAE/C;AAAA,WAAA,EACF,CAAA,EACF;AAAA,SAAA,EACF,CAAA;AAAA,wBACAI,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,6BAAA,EACb,QAAA,EAAA;AAAA,0BAAAJ,GAAAA,CAAC,cAAA,EAAA,EAAe,KAAA,EAAM,MAAA,EAAO,IAAG,MAAA,EAAO,CAAA;AAAA,0BACvCA,IAAC,KAAA,EAAA,EAAM,OAAA,EAAQ,QAAO,SAAA,EAAU,uBAAA,EAC9B,QAAA,kBAAAI,IAAAA,CAAC,KAAA,EAAA,EACC,QAAA,EAAA;AAAA,4BAAAJ,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,aAAA,EAAc,QAAA,EAAA,MAAA,EAAI,CAAA;AAAA,4BACjCA,GAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iCAAgC,QAAA,EAAA,4CAAA,EAE/C;AAAA,WAAA,EACF,CAAA,EACF;AAAA,SAAA,EACF;AAAA,OAAA,EACF,CAAA,EACF,CAAA;AAAA,sBACAI,KAAC,YAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAAJ,GAAAA,CAAC,UAAO,OAAA,EAAQ,SAAA,EAAU,SAAS,MAAM,OAAA,CAAQ,KAAK,CAAA,EAAG,QAAA,EAAA,QAAA,EAEzD,CAAA;AAAA,wBACAA,GAAAA,CAAC,MAAA,EAAA,EAAO,OAAA,EAAS,YAAA,EAAc,QAAA,EAAU,WAAA,EACtC,QAAA,EAAA,WAAA,mBACCI,IAAAA,CAAAM,QAAAA,EAAA,EACE,QAAA,EAAA;AAAA,0BAAAV,GAAAA,CAACW,OAAAA,EAAA,EAAQ,SAAA,EAAU,2BAAA,EAA4B,CAAA;AAAA,UAAE;AAAA,SAAA,EAEnD,CAAA,mBAEAP,IAAAA,CAAAM,QAAAA,EAAA,EACE,QAAA,EAAA;AAAA,0BAAAV,GAAAA,CAAC,QAAA,EAAA,EAAS,SAAA,EAAU,cAAA,EAAe,CAAA;AAAA,UAAE;AAAA,SAAA,EAEvC,CAAA,EAEJ;AAAA,OAAA,EACF;AAAA,KAAA,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;ACxHO,SAAS,kBAAA,CAAmB;AAAA,EACjC,OAAA;AAAA,EACA,aAAA;AAAA,EACA,aAAA;AAAA,EACA;AACF,CAAA,EAA4B;AAE1B,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAIO,SAAS,aAAa,CAAA;AAGlD,EAAA,MAAM,WAAA,GAAcE,QAAQ,MAAM;AAChC,IAAA,MAAM,SAAA,GAAY,YAAY,GAAA,EAAI;AAClC,IAAA,MAAM,MAAA,GAAS,gBAAA,CAAiB,OAAA,EAAS,MAAM,CAAA;AAC/C,IAAA,MAAM,OAAA,GAAU,YAAY,GAAA,EAAI;AAGhC,IAAA,OAAA,CAAQ,IAAI,CAAA,kCAAA,EAAA,CAAsC,OAAA,GAAU,WAAW,OAAA,CAAQ,CAAC,CAAC,CAAA,EAAA,CAAI,CAAA;AAErF,IAAA,OAAO,MAAA;AAAA,EACT,CAAA,EAAG,CAAC,OAAA,EAAS,MAAM,CAAC,CAAA;AAGpB,EAAA,MAAM,kBAAA,GAAqBG,WAAAA,CAAY,CAAC,SAAA,KAA2B;AACjE,IAAA,SAAA,CAAU,SAAS,CAAA;AAAA,EACrB,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,uBACER,IAAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,WAAA,EAEb,QAAA,EAAA;AAAA,oBAAAJ,GAAAA;AAAA,MAAC,UAAA;AAAA,MAAA;AAAA,QACC,MAAA;AAAA,QACA,aAAA;AAAA,QACA,eAAA;AAAA,QACA,cAAA,EAAgB;AAAA;AAAA,KAClB;AAAA,oBAGAI,KAAC,IAAA,EAAA,EACC,QAAA,EAAA;AAAA,sBAAAJ,IAAC,UAAA,EAAA,EACC,QAAA,kBAAAI,IAAAA,CAAC,KAAA,EAAA,EAAI,WAAU,kCAAA,EACb,QAAA,EAAA;AAAA,wBAAAA,KAAC,KAAA,EAAA,EACC,QAAA,EAAA;AAAA,0BAAAJ,GAAAA,CAAC,aAAU,QAAA,EAAA,SAAA,EAAO,CAAA;AAAA,0BAClBI,KAAC,eAAA,EAAA,EACE,QAAA,EAAA;AAAA,YAAA,WAAA,CAAY,QAAA,CAAS,QAAA;AAAA,YAAS,aAAA;AAAA,YAAS,YAAY,QAAA,CAAS,WAAA;AAAA,YAAY;AAAA,WAAA,EAC3E;AAAA,SAAA,EACF,CAAA;AAAA,wBACAJ,GAAAA,CAAC,YAAA,EAAA,EAAa,MAAM,WAAA,CAAY,IAAA,EAAM,UAAS,cAAA,EAAe;AAAA,OAAA,EAChE,CAAA,EACF,CAAA;AAAA,sBACAA,GAAAA,CAAC,WAAA,EAAA,EACC,QAAA,kBAAAA,GAAAA;AAAA,QAAC,UAAA;AAAA,QAAA;AAAA,UACC,MAAM,WAAA,CAAY,IAAA;AAAA,UAClB,MAAA;AAAA,UACA,UAAU,WAAA,CAAY;AAAA;AAAA,OACxB,EACF;AAAA,KAAA,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;ACxEA,SAAS,QAAA,CAAS;AAAA,EAChB,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAwD;AACtD,EAAA,uBACEA,GAAAA;AAAA,IAAmB,iBAAA,CAAA,IAAA;AAAA,IAAlB;AAAA,MACC,WAAA,EAAU,UAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,6eAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEJ,QAAA,kBAAAA,GAAAA;AAAA,QAAmB,iBAAA,CAAA,SAAA;AAAA,QAAlB;AAAA,UACC,WAAA,EAAU,oBAAA;AAAA,UACV,SAAA,EAAU,wDAAA;AAAA,UAEV,QAAA,kBAAAA,GAAAA,CAAC,SAAA,EAAA,EAAU,SAAA,EAAU,UAAA,EAAW;AAAA;AAAA;AAClC;AAAA,GACF;AAEJ;ACrBA,SAAS,YAAA,CAAa;AAAA,EACpB,GAAG;AACL,CAAA,EAA4D;AAC1D,EAAA,uBAAOA,GAAAA,CAAuB,qBAAA,CAAA,IAAA,EAAtB,EAA2B,WAAA,EAAU,eAAA,EAAiB,GAAG,KAAA,EAAO,CAAA;AAC1E;AAUA,SAAS,mBAAA,CAAoB;AAAA,EAC3B,GAAG;AACL,CAAA,EAA+D;AAC7D,EAAA,uBACEA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,OAAA;AAAA,IAAtB;AAAA,MACC,WAAA,EAAU,uBAAA;AAAA,MACT,GAAG;AAAA;AAAA,GACN;AAEJ;AAEA,SAAS,mBAAA,CAAoB;AAAA,EAC3B,SAAA;AAAA,EACA,UAAA,GAAa,CAAA;AAAA,EACb,GAAG;AACL,CAAA,EAA+D;AAC7D,EAAA,uBACEA,GAAAA,CAAuB,qBAAA,CAAA,MAAA,EAAtB,EACC,QAAA,kBAAAA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,OAAA;AAAA,IAAtB;AAAA,MACC,WAAA,EAAU,uBAAA;AAAA,MACV,UAAA;AAAA,MACA,SAAA,EAAW,EAAA;AAAA,QACT,wjBAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN,EACF,CAAA;AAEJ;AAUA,SAAS,gBAAA,CAAiB;AAAA,EACxB,SAAA;AAAA,EACA,KAAA;AAAA,EACA,OAAA,GAAU,SAAA;AAAA,EACV,GAAG;AACL,CAAA,EAGG;AACD,EAAA,uBACEA,GAAAA;AAAA,IAAuB,qBAAA,CAAA,IAAA;AAAA,IAAtB;AAAA,MACC,WAAA,EAAU,oBAAA;AAAA,MACV,YAAA,EAAY,KAAA;AAAA,MACZ,cAAA,EAAc,OAAA;AAAA,MACd,SAAA,EAAW,EAAA;AAAA,QACT,6mBAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;AC9EA,SAAS,MAAM,EAAE,SAAA,EAAW,IAAA,EAAM,GAAG,OAAM,EAAkC;AAC3E,EAAA,uBACEA,GAAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA;AAAA,MACA,WAAA,EAAU,OAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,4bAAA;AAAA,QACA,+EAAA;AAAA,QACA,wGAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;ACXA,SAAS,UAAA,CAAW;AAAA,EAClB,SAAA;AAAA,EACA,QAAA;AAAA,EACA,GAAG;AACL,CAAA,EAA0D;AACxD,EAAA,uBACEI,IAAAA;AAAA,IAAqB,mBAAA,CAAA,IAAA;AAAA,IAApB;AAAA,MACC,WAAA,EAAU,aAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,UAAA,EAAY,SAAS,CAAA;AAAA,MAClC,GAAG,KAAA;AAAA,MAEJ,QAAA,EAAA;AAAA,wBAAAJ,GAAAA;AAAA,UAAqB,mBAAA,CAAA,QAAA;AAAA,UAApB;AAAA,YACC,WAAA,EAAU,sBAAA;AAAA,YACV,SAAA,EAAU,oJAAA;AAAA,YAET;AAAA;AAAA,SACH;AAAA,wBACAA,IAAC,SAAA,EAAA,EAAU,CAAA;AAAA,wBACXA,GAAAA,CAAqB,mBAAA,CAAA,MAAA,EAApB,EAA2B;AAAA;AAAA;AAAA,GAC9B;AAEJ;AAEA,SAAS,SAAA,CAAU;AAAA,EACjB,SAAA;AAAA,EACA,WAAA,GAAc,UAAA;AAAA,EACd,GAAG;AACL,CAAA,EAAyE;AACvE,EAAA,uBACEA,GAAAA;AAAA,IAAqB,mBAAA,CAAA,mBAAA;AAAA,IAApB;AAAA,MACC,WAAA,EAAU,uBAAA;AAAA,MACV,WAAA;AAAA,MACA,SAAA,EAAW,EAAA;AAAA,QACT,oDAAA;AAAA,QACA,gBAAgB,UAAA,IACd,4CAAA;AAAA,QACF,gBAAgB,YAAA,IACd,8CAAA;AAAA,QACF;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEJ,QAAA,kBAAAA,GAAAA;AAAA,QAAqB,mBAAA,CAAA,eAAA;AAAA,QAApB;AAAA,UACC,WAAA,EAAU,mBAAA;AAAA,UACV,SAAA,EAAU;AAAA;AAAA;AACZ;AAAA,GACF;AAEJ;AC/CA,SAAS,MAAA,CAAO;AAAA,EACd,GAAG;AACL,CAAA,EAAsD;AACpD,EAAA,uBAAOA,GAAAA,CAAiB,eAAA,CAAA,IAAA,EAAhB,EAAqB,WAAA,EAAU,QAAA,EAAU,GAAG,KAAA,EAAO,CAAA;AAC7D;AAQA,SAAS,WAAA,CAAY;AAAA,EACnB,GAAG;AACL,CAAA,EAAuD;AACrD,EAAA,uBAAOA,GAAAA,CAAiB,eAAA,CAAA,KAAA,EAAhB,EAAsB,WAAA,EAAU,cAAA,EAAgB,GAAG,KAAA,EAAO,CAAA;AACpE;AAEA,SAAS,aAAA,CAAc;AAAA,EACrB,SAAA;AAAA,EACA,IAAA,GAAO,SAAA;AAAA,EACP,QAAA;AAAA,EACA,GAAG;AACL,CAAA,EAEG;AACD,EAAA,uBACEI,IAAAA;AAAA,IAAiB,eAAA,CAAA,OAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,gBAAA;AAAA,MACV,WAAA,EAAW,IAAA;AAAA,MACX,SAAA,EAAW,EAAA;AAAA,QACT,8yBAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEH,QAAA,EAAA;AAAA,QAAA,QAAA;AAAA,wBACDJ,GAAAA,CAAiB,eAAA,CAAA,IAAA,EAAhB,EAAqB,OAAA,EAAO,IAAA,EAC3B,QAAA,kBAAAA,GAAAA,CAAC,eAAA,EAAA,EAAgB,SAAA,EAAU,mBAAA,EAAoB,CAAA,EACjD;AAAA;AAAA;AAAA,GACF;AAEJ;AAEA,SAAS,aAAA,CAAc;AAAA,EACrB,SAAA;AAAA,EACA,QAAA;AAAA,EACA,QAAA,GAAW,QAAA;AAAA,EACX,KAAA,GAAQ,QAAA;AAAA,EACR,GAAG;AACL,CAAA,EAAyD;AACvD,EAAA,uBACEA,GAAAA,CAAiB,eAAA,CAAA,MAAA,EAAhB,EACC,QAAA,kBAAAI,IAAAA;AAAA,IAAiB,eAAA,CAAA,OAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,gBAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,+iBAAA;AAAA,QACA,aAAa,QAAA,IACX,iIAAA;AAAA,QACF;AAAA,OACF;AAAA,MACA,QAAA;AAAA,MACA,KAAA;AAAA,MACC,GAAG,KAAA;AAAA,MAEJ,QAAA,EAAA;AAAA,wBAAAJ,IAAC,oBAAA,EAAA,EAAqB,CAAA;AAAA,wBACtBA,GAAAA;AAAA,UAAiB,eAAA,CAAA,QAAA;AAAA,UAAhB;AAAA,YACC,SAAA,EAAW,EAAA;AAAA,cACT,KAAA;AAAA,cACA,aAAa,QAAA,IACX;AAAA,aACJ;AAAA,YAEC;AAAA;AAAA,SACH;AAAA,wBACAA,IAAC,sBAAA,EAAA,EAAuB;AAAA;AAAA;AAAA,GAC1B,EACF,CAAA;AAEJ;AAeA,SAAS,UAAA,CAAW;AAAA,EAClB,SAAA;AAAA,EACA,QAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAsD;AACpD,EAAA,uBACEI,IAAAA;AAAA,IAAiB,eAAA,CAAA,IAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,aAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,2aAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEJ,QAAA,EAAA;AAAA,wBAAAJ,GAAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,4DAAA,EACd,0BAAAA,GAAAA,CAAiB,eAAA,CAAA,aAAA,EAAhB,EACC,QAAA,kBAAAA,IAACa,SAAAA,EAAA,EAAU,SAAA,EAAU,QAAA,EAAS,GAChC,CAAA,EACF,CAAA;AAAA,wBACAb,GAAAA,CAAiB,eAAA,CAAA,QAAA,EAAhB,EAA0B,QAAA,EAAS;AAAA;AAAA;AAAA,GACtC;AAEJ;AAeA,SAAS,oBAAA,CAAqB;AAAA,EAC5B,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAgE;AAC9D,EAAA,uBACEA,GAAAA;AAAA,IAAiB,eAAA,CAAA,cAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,yBAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,sDAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEJ,QAAA,kBAAAA,GAAAA,CAAC,aAAA,EAAA,EAAc,SAAA,EAAU,QAAA,EAAS;AAAA;AAAA,GACpC;AAEJ;AAEA,SAAS,sBAAA,CAAuB;AAAA,EAC9B,SAAA;AAAA,EACA,GAAG;AACL,CAAA,EAAkE;AAChE,EAAA,uBACEA,GAAAA;AAAA,IAAiB,eAAA,CAAA,gBAAA;AAAA,IAAhB;AAAA,MACC,WAAA,EAAU,2BAAA;AAAA,MACV,SAAA,EAAW,EAAA;AAAA,QACT,sDAAA;AAAA,QACA;AAAA,OACF;AAAA,MACC,GAAG,KAAA;AAAA,MAEJ,QAAA,kBAAAA,GAAAA,CAAC,eAAA,EAAA,EAAgB,SAAA,EAAU,QAAA,EAAS;AAAA;AAAA,GACtC;AAEJ;AC3KA,SAAS,QAAA,CAAS,EAAE,SAAA,EAAW,GAAG,OAAM,EAAgC;AACtE,EAAA,uBACEA,GAAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,WAAA,EAAU,UAAA;AAAA,MACV,SAAA,EAAW,EAAA,CAAG,oCAAA,EAAsC,SAAS,CAAA;AAAA,MAC5D,GAAG;AAAA;AAAA,GACN;AAEJ","file":"index.mjs","sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","'use client'\n\nimport { useMemo, useRef, memo } from 'react'\nimport {\n  type ColumnDef,\n  flexRender,\n  getCoreRowModel,\n  useReactTable,\n} from '@tanstack/react-table'\nimport { useVirtualizer } from '@tanstack/react-virtual'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '../ui/table'\nimport type { PivotConfig, PivotMetadata } from '../../lib/pivot/schemas'\nimport type { PivotRow } from '../../lib/pivot/types'\nimport { cn } from '../../lib/utils'\nimport { generateColumnKey } from '../../lib/pivot/transformer'\n\n/**\n * Props for the PivotTable component\n */\ninterface PivotTableProps {\n  /** Transformed pivot data rows */\n  data: PivotRow[]\n  /** Pivot configuration used for the transformation */\n  config: PivotConfig\n  /** Metadata about the pivot result (row count, column count, unique values) */\n  metadata: PivotMetadata\n}\n\n/**\n * PivotTable component - Renders a virtualized pivot table with TanStack Table\n *\n * Features:\n * - Virtual scrolling for large datasets (100K+ rows)\n * - Dynamic column generation based on pivot configuration\n * - Hierarchical row grouping with indentation\n * - Styled subtotals and grand totals\n *\n * @example\n * ```tsx\n * import { transformToPivot } from 'shadcn-pivot-table'\n * import { PivotTable } from 'shadcn-pivot-table'\n *\n * const result = transformToPivot(rawData, config)\n * <PivotTable data={result.data} config={result.config} metadata={result.metadata} />\n * ```\n */\nconst PivotTableComponent = ({ data, config, metadata }: PivotTableProps) => {\n  const parentRef = useRef<HTMLDivElement>(null)\n\n  // Generate column definitions dynamically based on configuration\n  const columns = useMemo<ColumnDef<PivotRow>[]>(() => {\n    const cols: ColumnDef<PivotRow>[] = []\n\n    // Add row field columns\n    for (const field of config.rowFields) {\n      cols.push({\n        id: field,\n        accessorKey: field,\n        header: formatFieldName(field),\n        cell: ({ row, getValue }) => {\n          const value = getValue() as string\n          const level = row.original.__level || 0\n          const isTotal = row.original.__isGrandTotal || row.original.__isSubtotal\n\n          return (\n            <div\n              className={cn(\n                'font-medium',\n                isTotal && 'font-bold',\n                level > 0 && `pl-${level * 4}`\n              )}\n            >\n              {formatTotalLabel(value)}\n            </div>\n          )\n        },\n        size: 200,\n      })\n    }\n\n    // Add value columns (with pivot columns if configured)\n    if (config.columnFields.length === 0) {\n      // No pivot columns - simple value columns\n      for (const valueField of config.valueFields) {\n        cols.push({\n          id: valueField.field,\n          accessorKey: valueField.displayName || valueField.field,\n          header: valueField.displayName || formatFieldName(valueField.field),\n          cell: ({ getValue }) => {\n            const value = getValue() as number\n            return (\n              <div className=\"text-right font-mono\">\n                {formatNumber(value, valueField.aggregation)}\n              </div>\n            )\n          },\n          size: 150,\n        })\n      }\n    } else {\n      // With pivot columns - create nested column groups\n      const uniqueValues = metadata.uniqueValues || {}\n      const columnCombinations = generateCombinations(config.columnFields, uniqueValues)\n\n      for (const combination of columnCombinations) {\n        const groupLabel = combination.join(' - ')\n\n        // Create column group\n        const groupColumns: ColumnDef<PivotRow>[] = config.valueFields.map(valueField => ({\n          id: generateColumnKey(combination, valueField.displayName || valueField.field),\n          accessorKey: generateColumnKey(combination, valueField.displayName || valueField.field),\n          header: valueField.displayName || formatFieldName(valueField.field),\n          cell: ({ getValue, row }) => {\n            const value = getValue() as number\n            const isTotal = row.original.__isGrandTotal || row.original.__isSubtotal\n            return (\n              <div\n                className={cn(\n                  'text-right font-mono',\n                  isTotal && 'font-bold'\n                )}\n              >\n                {formatNumber(value, valueField.aggregation)}\n              </div>\n            )\n          },\n          size: 120,\n        }))\n\n        // Add as column group if multiple value fields, otherwise add directly\n        if (groupColumns.length > 1) {\n          cols.push({\n            id: `group-${groupLabel}`,\n            header: groupLabel,\n            columns: groupColumns,\n          })\n        } else {\n          cols.push({\n            ...groupColumns[0],\n            header: `${groupLabel} - ${groupColumns[0].header}`,\n          })\n        }\n      }\n    }\n\n    // Add row total columns if configured\n    if (config.options.showRowTotals && config.columnFields.length > 0) {\n      for (const valueField of config.valueFields) {\n        cols.push({\n          id: `__total_${valueField.field}`,\n          accessorKey: `__total_${valueField.field}`,\n          header: `Total ${valueField.displayName || formatFieldName(valueField.field)}`,\n          cell: ({ getValue, row }) => {\n            const value = getValue() as number\n            const isTotal = row.original.__isGrandTotal || row.original.__isSubtotal\n            return (\n              <div\n                className={cn(\n                  'text-right font-mono font-semibold bg-muted/50',\n                  isTotal && 'font-bold'\n                )}\n              >\n                {formatNumber(value, valueField.aggregation)}\n              </div>\n            )\n          },\n          size: 150,\n        })\n      }\n    }\n\n    return cols\n  }, [config, metadata])\n\n  // Initialize TanStack Table\n  const table = useReactTable({\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n  })\n\n  // Initialize row virtualizer (for vertical scrolling)\n  const rowVirtualizer = useVirtualizer({\n    count: table.getRowModel().rows.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: () => 35,\n    overscan: 10,\n  })\n\n  const virtualRows = rowVirtualizer.getVirtualItems()\n  const totalSize = rowVirtualizer.getTotalSize()\n\n  // Get padding for virtual rows\n  const paddingTop = virtualRows.length > 0 ? virtualRows[0]?.start || 0 : 0\n  const paddingBottom =\n    virtualRows.length > 0\n      ? totalSize - (virtualRows[virtualRows.length - 1]?.end || 0)\n      : 0\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Table container with virtualization */}\n      <div\n        ref={parentRef}\n        className=\"overflow-auto border rounded-lg\"\n        style={{ height: '600px' }}\n      >\n        <Table>\n          <TableHeader className=\"sticky top-0 bg-background z-10\">\n            {table.getHeaderGroups().map((headerGroup) => (\n              <TableRow key={headerGroup.id}>\n                {headerGroup.headers.map((header) => (\n                  <TableHead\n                    key={header.id}\n                    colSpan={header.colSpan}\n                    style={{ width: header.getSize() }}\n                    className=\"bg-muted font-semibold\"\n                  >\n                    {header.isPlaceholder\n                      ? null\n                      : flexRender(\n                          header.column.columnDef.header,\n                          header.getContext()\n                        )}\n                  </TableHead>\n                ))}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {paddingTop > 0 && (\n              <tr>\n                <td style={{ height: `${paddingTop}px` }} />\n              </tr>\n            )}\n            {virtualRows.map((virtualRow) => {\n              const row = table.getRowModel().rows[virtualRow.index]\n              if (!row) return null\n\n              const isGrandTotal = row.original.__isGrandTotal\n              const isSubtotal = row.original.__isSubtotal\n\n              return (\n                <TableRow\n                  key={row.id}\n                  data-index={virtualRow.index}\n                  className={cn(\n                    isGrandTotal && 'bg-accent font-bold border-t-2 border-t-border',\n                    isSubtotal && 'bg-muted/30 font-semibold'\n                  )}\n                >\n                  {row.getVisibleCells().map((cell) => (\n                    <TableCell\n                      key={cell.id}\n                      style={{ width: cell.column.getSize() }}\n                    >\n                      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                    </TableCell>\n                  ))}\n                </TableRow>\n              )\n            })}\n            {paddingBottom > 0 && (\n              <tr>\n                <td style={{ height: `${paddingBottom}px` }} />\n              </tr>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      {/* Table info */}\n      <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\n        <div>\n          Showing {table.getRowModel().rows.length} rows\n        </div>\n        <div>\n          {metadata.rowCount} rows  {metadata.columnCount} columns\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Memoize component to prevent unnecessary re-renders\nexport const PivotTable = memo(PivotTableComponent, (prevProps, nextProps) => {\n  // Deep equality check for data and config\n  return (\n    prevProps.data === nextProps.data &&\n    prevProps.metadata === nextProps.metadata &&\n    JSON.stringify(prevProps.config) === JSON.stringify(nextProps.config)\n  )\n})\n\nPivotTable.displayName = 'PivotTable'\n\n/**\n * Generate all combinations of column values\n */\nfunction generateCombinations(\n  fields: string[],\n  uniqueValues: Record<string, string[]>\n): string[][] {\n  if (fields.length === 0) return [[]]\n\n  const [firstField, ...restFields] = fields\n  const firstValues = uniqueValues[firstField] || []\n\n  if (restFields.length === 0) {\n    return firstValues.map((v) => [v])\n  }\n\n  const restCombinations = generateCombinations(restFields, uniqueValues)\n  const combinations: string[][] = []\n\n  for (const value of firstValues) {\n    for (const rest of restCombinations) {\n      combinations.push([value, ...rest])\n    }\n  }\n\n  return combinations\n}\n\n/**\n * Format field name for display\n */\nfunction formatFieldName(field: string): string {\n  return field\n    .split(/(?=[A-Z])|_/)\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    .join(' ')\n}\n\n/**\n * Format total labels for display\n * Replaces internal __TOTAL__ markers with user-friendly text\n */\nfunction formatTotalLabel(value: string): string {\n  if (value === '__TOTAL__') return 'Total'\n  if (value === '__COLUMN_TOTAL__') return 'Column Total'\n  if (value === '__GRAND_TOTAL__') return 'Grand Total'\n  return value\n}\n\n/**\n * Format number based on aggregation type\n */\nfunction formatNumber(value: any, aggregation: string): string {\n  if (value === null || value === undefined) return ''\n\n  const num = Number(value)\n  if (isNaN(num)) return String(value)\n\n  if (aggregation === 'count') {\n    return num.toLocaleString('en-US')\n  }\n\n  if (aggregation === 'avg') {\n    return num.toLocaleString('en-US', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2,\n    })\n  }\n\n  return num.toLocaleString('en-US', {\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  })\n}\n","import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      role=\"article\"\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({\n  className,\n  as: Component = \"h3\",\n  ...props\n}: React.ComponentProps<\"h3\"> & { as?: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\" }) {\n  return (\n    <Component\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n","'use client'\n\nimport { useEffect, useRef, useState, memo } from 'react'\nimport { createPortal } from 'react-dom'\nimport { draggable } from '@atlaskit/pragmatic-drag-and-drop/element/adapter'\nimport { setCustomNativeDragPreview } from '@atlaskit/pragmatic-drag-and-drop/element/set-custom-native-drag-preview'\nimport { preserveOffsetOnSource } from '@atlaskit/pragmatic-drag-and-drop/element/preserve-offset-on-source'\nimport { Badge } from '../ui/badge'\nimport { Button } from '../ui/button'\nimport { cn } from '../../lib/utils'\nimport { Hash, Calendar, Type, ToggleLeft, X } from 'lucide-react'\n\ntype DragState =\n  | { type: 'idle' }\n  | { type: 'preview'; container: HTMLElement }\n  | { type: 'dragging' }\n\ninterface DraggableFieldProps {\n  field: string\n  fieldType?: string\n  sourceZone?: 'available' | 'rows' | 'columns'\n  onRemove?: () => void\n  inUse?: boolean // Indicates if field is already used in rows/columns/values\n}\n\nconst DraggableFieldComponent = ({\n  field,\n  fieldType = 'string',\n  sourceZone = 'available',\n  onRemove,\n  inUse = false\n}: DraggableFieldProps) => {\n  const ref = useRef<HTMLDivElement>(null)\n  const [dragState, setDragState] = useState<DragState>({ type: 'idle' })\n\n  useEffect(() => {\n    const el = ref.current\n    if (!el) return\n\n    return draggable({\n      element: el,\n      getInitialData: () => ({ field, fieldType, sourceZone }),\n      onGenerateDragPreview({ nativeSetDragImage, location, source }) {\n        setCustomNativeDragPreview({\n          nativeSetDragImage,\n          getOffset: preserveOffsetOnSource({\n            element: source.element,\n            input: location.current.input,\n          }),\n          render({ container }) {\n            setDragState({ type: 'preview', container })\n            return () => setDragState({ type: 'dragging' })\n          },\n        })\n      },\n      onDragStart() {\n        setDragState({ type: 'dragging' })\n      },\n      onDrop() {\n        setDragState({ type: 'idle' })\n      },\n    })\n  }, [field, fieldType, sourceZone])\n\n  const getFieldIcon = () => {\n    switch (fieldType) {\n      case 'number':\n        return <Hash className=\"h-3 w-3\" />\n      case 'date':\n        return <Calendar className=\"h-3 w-3\" />\n      case 'boolean':\n        return <ToggleLeft className=\"h-3 w-3\" />\n      default:\n        return <Type className=\"h-3 w-3\" />\n    }\n  }\n\n  return (\n    <>\n      <div ref={ref} className=\"inline-block group\">\n        <Badge\n          variant=\"outline\"\n          className={cn(\n            'cursor-move select-none transition-all hover:bg-accent gap-1',\n            dragState.type === 'dragging' && 'opacity-50 cursor-grabbing',\n            inUse && 'bg-primary/10 border-primary/30'\n          )}\n        >\n          <span className=\"flex items-center gap-1.5\">\n            {getFieldIcon()}\n            <span className=\"font-medium\">{formatFieldName(field)}</span>\n            {inUse && (\n              <span className=\"text-[10px] font-semibold text-primary\">IN USE</span>\n            )}\n          </span>\n          {sourceZone !== 'available' && onRemove && (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"h-3 w-3 p-0 rounded-full opacity-0 group-hover:opacity-100 transition-all text-muted-foreground hover:text-foreground\"\n              onClick={(e) => {\n                e.stopPropagation()\n                onRemove()\n              }}\n            >\n              <X className=\"h-2.5 w-2.5\" />\n            </Button>\n          )}\n        </Badge>\n      </div>\n\n      {/* Render preview via portal - clean Badge without wrapper div */}\n      {dragState.type === 'preview' &&\n        createPortal(\n          <Badge variant=\"outline\" className=\"cursor-grabbing gap-1\">\n            <span className=\"flex items-center gap-1.5\">\n              {getFieldIcon()}\n              <span className=\"font-medium\">{formatFieldName(field)}</span>\n            </span>\n          </Badge>,\n          dragState.container\n        )}\n    </>\n  )\n}\n\n/**\n * Format field name for display\n */\nfunction formatFieldName(field: string): string {\n  return field\n    .split(/(?=[A-Z])|_/)\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    .join(' ')\n}\n\n/**\n * Memoized DraggableField component to prevent unnecessary re-renders\n * Only re-renders when field, fieldType, sourceZone, or onRemove changes\n */\nexport const DraggableField = memo(DraggableFieldComponent)\n","'use client'\n\nimport { useEffect, useRef, useState, memo, useMemo } from 'react'\nimport { dropTargetForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter'\nimport { DraggableField } from './draggable-field'\nimport { cn } from '../../lib/utils'\n\ninterface DropZoneProps {\n  label: string\n  description?: string\n  fields: string[]\n  onFieldAdd: (field: string, sourceZone?: 'available' | 'rows' | 'columns') => void\n  onFieldRemove: (field: string) => void\n  zone: 'rows' | 'columns'\n  availableFields: Array<{ name: string; type: string }>\n}\n\nconst DropZoneComponent = ({\n  label,\n  description,\n  fields,\n  onFieldAdd,\n  onFieldRemove,\n  zone,\n  availableFields,\n}: DropZoneProps) => {\n  const ref = useRef<HTMLDivElement>(null)\n  const [isDraggedOver, setIsDraggedOver] = useState(false)\n\n  useEffect(() => {\n    const el = ref.current\n    if (!el) return\n\n    return dropTargetForElements({\n      element: el,\n      onDragEnter: () => setIsDraggedOver(true),\n      onDragLeave: () => setIsDraggedOver(false),\n      onDrop: ({ source }) => {\n        setIsDraggedOver(false)\n        const data = source.data as {\n          field: string\n          fieldType?: string\n          sourceZone?: 'available' | 'rows' | 'columns'\n        }\n        if (data.field) {\n          onFieldAdd(data.field, data.sourceZone)\n        }\n      },\n    })\n  }, [onFieldAdd])\n\n  // Memoize field type lookup to prevent unnecessary recalculations\n  const getFieldType = useMemo(() => {\n    return (fieldName: string): string => {\n      const fieldInfo = availableFields.find((f) => f.name === fieldName)\n      return fieldInfo?.type || 'string'\n    }\n  }, [availableFields])\n\n  return (\n    <div>\n      <h3 className=\"text-sm font-medium mb-2\">{label}</h3>\n      {description && (\n        <p className=\"text-sm text-muted-foreground mb-3\">{description}</p>\n      )}\n      <div\n        ref={ref}\n        className={cn(\n          'min-h-[80px] p-3 border-2 border-dashed rounded-lg transition-colors',\n          isDraggedOver\n            ? 'border-primary bg-primary/5'\n            : 'border-muted-foreground/25 bg-muted/20',\n          fields.length === 0 && 'flex items-center justify-center'\n        )}\n      >\n        {fields.length > 0 ? (\n          <div className=\"flex flex-wrap gap-2\">\n            {fields.map((field, index) => (\n              <DraggableField\n                key={`${field}-${index}`}\n                field={field}\n                fieldType={getFieldType(field)}\n                sourceZone={zone}\n                onRemove={() => onFieldRemove(field)}\n              />\n            ))}\n          </div>\n        ) : (\n          <p className=\"text-sm text-muted-foreground text-center\">\n            Drag fields here\n          </p>\n        )}\n      </div>\n    </div>\n  )\n}\n\n/**\n * Memoized DropZone component to prevent unnecessary re-renders\n * Only re-renders when props change (label, description, fields, handlers, zone, availableFields)\n */\nexport const DropZone = memo(DropZoneComponent)\n","'use client'\n\nimport { useState, useCallback, useRef, useEffect, useTransition } from 'react'\nimport { useRouter, usePathname } from 'next/navigation'\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '../ui/card'\nimport { Button } from '../ui/button'\nimport { Separator } from '../ui/separator'\nimport type { PivotConfig } from '../../lib/pivot/schemas'\nimport { DraggableField } from './draggable-field'\nimport { DropZone } from './drop-zone'\nimport { Settings2, RefreshCw, Loader2 } from 'lucide-react'\n\ninterface PivotPanelProps {\n  config: PivotConfig // Controlled component - no longer initialConfig\n  defaultConfig: PivotConfig // Scenario's default config for reset\n  availableFields: Array<{ name: string; type: string }>\n  onConfigChange: (config: PivotConfig) => void // Required for controlled component\n}\n\nexport function PivotPanel({ config, defaultConfig, availableFields, onConfigChange }: PivotPanelProps) {\n  const router = useRouter()\n  const pathname = usePathname()\n  const [isPending, startTransition] = useTransition()\n\n  // Debounce timeout ref to prevent multiple rapid URL updates\n  const debounceTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n\n  // Cleanup debounce timeout on unmount\n  useEffect(() => {\n    return () => {\n      if (debounceTimeoutRef.current) {\n        clearTimeout(debounceTimeoutRef.current)\n      }\n    }\n  }, [])\n\n  // Show ALL fields, even if already in use (better UX - allows seeing and re-dragging)\n  // Previously filtered out used fields, but this hid fields and confused users\n  const getAvailableFields = useCallback(() => {\n    const usedFields = new Set([\n      ...config.rowFields,\n      ...config.columnFields,\n      ...config.valueFields.map(v => v.field),\n    ])\n\n    // Return all fields with indicator of whether they're in use\n    return availableFields.map(f => ({\n      ...f,\n      inUse: usedFields.has(f.name),\n    }))\n  }, [config, availableFields])\n\n  // Immediate URL update (non-debounced) - used for initial load and reset\n  const updateURLImmediate = useCallback((newConfig: PivotConfig) => {\n    const params = new URLSearchParams()\n    if (newConfig.rowFields.length > 0) {\n      params.set('rows', newConfig.rowFields.join(','))\n    }\n    if (newConfig.columnFields.length > 0) {\n      params.set('columns', newConfig.columnFields.join(','))\n    }\n    params.set('showRowTotals', String(newConfig.options.showRowTotals))\n    params.set('showColumnTotals', String(newConfig.options.showColumnTotals))\n    params.set('showGrandTotal', String(newConfig.options.showGrandTotal))\n\n    // Wrap in startTransition for loading feedback\n    startTransition(() => {\n      // Canonical Next.js pattern: pathname + query string\n      router.push(pathname + '?' + params.toString())\n    })\n  }, [router, pathname, startTransition])\n\n  // Debounced URL update - prevents freeze during rapid drag operations\n  // Only updates URL after 100ms of no changes (preserves shareable URLs)\n  const updateURLDebounced = useCallback((newConfig: PivotConfig) => {\n    // Clear any pending timeout\n    if (debounceTimeoutRef.current) {\n      clearTimeout(debounceTimeoutRef.current)\n    }\n\n    // Set new timeout to update URL after 100ms of inactivity\n    debounceTimeoutRef.current = setTimeout(() => {\n      updateURLImmediate(newConfig)\n    }, 100)\n  }, [updateURLImmediate])\n\n  // Handle field drop into row fields\n  const handleAddRowField = useCallback(\n    (fieldName: string, sourceZone?: 'available' | 'rows' | 'columns') => {\n      // If already in row fields (dragging within same zone), don't duplicate\n      if (sourceZone === 'rows' && config.rowFields.includes(fieldName)) {\n        return\n      }\n\n      let newConfig = { ...config }\n\n      // Remove from source zone if moving between zones\n      if (sourceZone === 'columns') {\n        newConfig.columnFields = newConfig.columnFields.filter((f) => f !== fieldName)\n      }\n\n      // Add to row fields if not already there\n      if (!newConfig.rowFields.includes(fieldName)) {\n        newConfig.rowFields = [...newConfig.rowFields, fieldName]\n      }\n\n      // Single state update - no more duplicate setConfig\n      onConfigChange(newConfig)\n      // Debounced server sync for URL updates\n      updateURLDebounced(newConfig)\n    },\n    [config, onConfigChange, updateURLDebounced]\n  )\n\n  // Handle field drop into column fields\n  const handleAddColumnField = useCallback(\n    (fieldName: string, sourceZone?: 'available' | 'rows' | 'columns') => {\n      // If already in column fields (dragging within same zone), don't duplicate\n      if (sourceZone === 'columns' && config.columnFields.includes(fieldName)) {\n        return\n      }\n\n      let newConfig = { ...config }\n\n      // Remove from source zone if moving between zones\n      if (sourceZone === 'rows') {\n        newConfig.rowFields = newConfig.rowFields.filter((f) => f !== fieldName)\n      }\n\n      // Add to column fields if not already there\n      if (!newConfig.columnFields.includes(fieldName)) {\n        newConfig.columnFields = [...newConfig.columnFields, fieldName]\n      }\n\n      // Single state update - no more duplicate setConfig\n      onConfigChange(newConfig)\n      updateURLDebounced(newConfig)\n    },\n    [config, onConfigChange, updateURLDebounced]\n  )\n\n  // Handle field removal\n  const handleRemoveField = useCallback((field: string, zone: 'rows' | 'columns') => {\n    const newConfig = {\n      ...config,\n      [zone === 'rows' ? 'rowFields' : 'columnFields']: config[\n        zone === 'rows' ? 'rowFields' : 'columnFields'\n      ].filter(f => f !== field),\n    }\n    // Single state update - no more duplicate setConfig\n    onConfigChange(newConfig)\n    updateURLDebounced(newConfig)\n  }, [config, onConfigChange, updateURLDebounced])\n\n  // Reset to scenario's default configuration\n  const handleReset = useCallback(() => {\n    // Use the scenario's default config instead of hardcoded values\n    onConfigChange(defaultConfig)\n    // Cancel any pending debounced updates\n    if (debounceTimeoutRef.current) {\n      clearTimeout(debounceTimeoutRef.current)\n    }\n    updateURLImmediate(defaultConfig) // Immediate update for reset\n  }, [defaultConfig, onConfigChange, updateURLImmediate])\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Settings2 className=\"h-5 w-5\" />\n              Pivot Configuration\n              {isPending && (\n                <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\n              )}\n            </CardTitle>\n            <CardDescription>\n              {isPending ? 'Updating pivot table...' : 'Drag fields to configure your pivot table'}\n            </CardDescription>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button variant=\"outline\" size=\"sm\" onClick={handleReset}>\n              <RefreshCw className=\"h-4 w-4 mr-2\" />\n              Reset\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        {/* Available Fields */}\n        <div>\n          <h3 className=\"text-sm font-medium mb-3\">Available Fields</h3>\n          <div className=\"flex flex-wrap gap-2 min-h-[60px] p-3 border-2 border-dashed rounded-lg bg-muted/20\">\n            {getAvailableFields().length > 0 ? (\n              getAvailableFields().map(field => (\n                <DraggableField\n                  key={field.name}\n                  field={field.name}\n                  fieldType={field.type}\n                  sourceZone=\"available\"\n                  inUse={field.inUse}\n                />\n              ))\n            ) : (\n              <p className=\"text-sm text-muted-foreground w-full text-center\">\n                No fields available\n              </p>\n            )}\n          </div>\n        </div>\n\n        <Separator />\n\n        {/* Row Groups */}\n        <DropZone\n          label=\"Row Groups\"\n          description=\"Fields to group by (rows)\"\n          fields={config.rowFields}\n          onFieldAdd={handleAddRowField}\n          onFieldRemove={(field) => handleRemoveField(field, 'rows')}\n          zone=\"rows\"\n          availableFields={availableFields}\n        />\n\n        <Separator />\n\n        {/* Pivot Columns */}\n        <DropZone\n          label=\"Pivot Columns\"\n          description=\"Fields to pivot (columns)\"\n          fields={config.columnFields}\n          onFieldAdd={handleAddColumnField}\n          onFieldRemove={(field) => handleRemoveField(field, 'columns')}\n          zone=\"columns\"\n          availableFields={availableFields}\n        />\n\n        <Separator />\n\n        {/* Value Fields */}\n        <div>\n          <h3 className=\"text-sm font-medium mb-2\">Value Fields</h3>\n          <p className=\"text-sm text-muted-foreground mb-3\">\n            Metrics to aggregate\n          </p>\n          <div className=\"space-y-2\">\n            {config.valueFields.map((vf, index) => (\n              <div\n                key={index}\n                className=\"flex items-center gap-2 p-3 bg-primary/5 border rounded-lg\"\n              >\n                <div className=\"flex-1\">\n                  <div className=\"font-medium text-sm\">{vf.displayName || vf.field}</div>\n                  <div className=\"text-xs text-muted-foreground\">\n                    Aggregation: {vf.aggregation.toUpperCase()}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction RadioGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\n  return (\n    <RadioGroupPrimitive.Root\n      data-slot=\"radio-group\"\n      className={cn(\"grid gap-3\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction RadioGroupItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\n  return (\n    <RadioGroupPrimitive.Item\n      data-slot=\"radio-group-item\"\n      className={cn(\n        \"border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator\n        data-slot=\"radio-group-indicator\"\n        className=\"relative flex items-center justify-center\"\n      >\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n}\n\nexport { RadioGroup, RadioGroupItem }\n","'use client'\n\nimport { useState } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '../ui/dialog'\nimport { Button } from '../ui/button'\nimport { Label } from '../ui/label'\nimport { RadioGroup, RadioGroupItem } from '../ui/radio-group'\nimport { Download, Loader2 } from 'lucide-react'\nimport { exportPivotData } from '../../lib/pivot/export'\nimport type { ExportFormat } from '../../lib/pivot/schemas'\n\ninterface ExportDialogProps {\n  data: any[]\n  filename?: string\n}\n\nexport function ExportDialog({ data, filename = 'pivot-export' }: ExportDialogProps) {\n  const [open, setOpen] = useState(false)\n  const [format, setFormat] = useState<ExportFormat>('csv')\n  const [isExporting, setIsExporting] = useState(false)\n\n  const handleExport = async () => {\n    setIsExporting(true)\n    try {\n      const result = await exportPivotData(data, format)\n\n      // Download the file\n      let blob: Blob\n      let downloadFilename: string\n\n      if (format === 'csv') {\n        blob = new Blob([result as string], { type: 'text/csv' })\n        downloadFilename = `${filename}-${Date.now()}.csv`\n      } else if (format === 'excel') {\n        blob = result as Blob\n        downloadFilename = `${filename}-${Date.now()}.xlsx`\n      } else {\n        blob = new Blob([result as string], { type: 'application/json' })\n        downloadFilename = `${filename}-${Date.now()}.json`\n      }\n\n      // Create download link\n      const url = URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = downloadFilename\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n      URL.revokeObjectURL(url)\n\n      setOpen(false)\n    } catch (error) {\n      console.error('Export failed:', error)\n      alert('Export failed. Please try again.')\n    } finally {\n      setIsExporting(false)\n    }\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>\n        <Button variant=\"outline\" size=\"sm\">\n          <Download className=\"h-4 w-4 mr-2\" />\n          Export\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Export Pivot Table</DialogTitle>\n          <DialogDescription>\n            Choose a format to export your pivot table data\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-4 py-4\">\n          <RadioGroup value={format} onValueChange={(value) => setFormat(value as ExportFormat)}>\n            <div className=\"flex items-center space-x-2\">\n              <RadioGroupItem value=\"csv\" id=\"csv\" />\n              <Label htmlFor=\"csv\" className=\"flex-1 cursor-pointer\">\n                <div>\n                  <div className=\"font-medium\">CSV</div>\n                  <div className=\"text-sm text-muted-foreground\">\n                    Comma-separated values, compatible with Excel and other tools\n                  </div>\n                </div>\n              </Label>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <RadioGroupItem value=\"excel\" id=\"excel\" />\n              <Label htmlFor=\"excel\" className=\"flex-1 cursor-pointer\">\n                <div>\n                  <div className=\"font-medium\">Excel</div>\n                  <div className=\"text-sm text-muted-foreground\">\n                    Microsoft Excel format with formatting\n                  </div>\n                </div>\n              </Label>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <RadioGroupItem value=\"json\" id=\"json\" />\n              <Label htmlFor=\"json\" className=\"flex-1 cursor-pointer\">\n                <div>\n                  <div className=\"font-medium\">JSON</div>\n                  <div className=\"text-sm text-muted-foreground\">\n                    Structured data format for API integration\n                  </div>\n                </div>\n              </Label>\n            </div>\n          </RadioGroup>\n        </div>\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => setOpen(false)}>\n            Cancel\n          </Button>\n          <Button onClick={handleExport} disabled={isExporting}>\n            {isExporting ? (\n              <>\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                Exporting...\n              </>\n            ) : (\n              <>\n                <Download className=\"h-4 w-4 mr-2\" />\n                Export\n              </>\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","'use client'\n\nimport { useMemo, useState, useCallback } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../ui/card'\nimport { PivotTable } from './pivot-table'\nimport { PivotPanel } from './pivot-panel'\nimport { ExportDialog } from './export-dialog'\nimport { transformToPivot } from '../../lib/pivot/transformer'\nimport type { PivotConfig } from '../../lib/pivot/schemas'\n\ninterface ClientPivotWrapperProps {\n  rawData: any[]\n  initialConfig: PivotConfig\n  defaultConfig: PivotConfig // Scenario's default config for reset functionality\n  availableFields: Array<{ name: string; type: string }>\n}\n\n/**\n * Client-side pivot wrapper that performs instant transformations\n * This achieves AG Grid-level performance (50-80ms) by avoiding server round-trips\n */\nexport function ClientPivotWrapper({\n  rawData,\n  initialConfig,\n  defaultConfig,\n  availableFields,\n}: ClientPivotWrapperProps) {\n  // Store config in local state for instant updates\n  const [config, setConfig] = useState(initialConfig)\n\n  // Transform data client-side with useMemo for caching\n  const pivotResult = useMemo(() => {\n    const startTime = performance.now()\n    const result = transformToPivot(rawData, config)\n    const endTime = performance.now()\n\n    // Log performance for monitoring\n    console.log(`Client-side pivot transformation: ${(endTime - startTime).toFixed(2)}ms`)\n\n    return result\n  }, [rawData, config])\n\n  // Handle config updates (instant - no server round-trip!)\n  const handleConfigChange = useCallback((newConfig: PivotConfig) => {\n    setConfig(newConfig)\n  }, [])\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Configuration Panel */}\n      <PivotPanel\n        config={config}\n        defaultConfig={defaultConfig}\n        availableFields={availableFields}\n        onConfigChange={handleConfigChange}\n      />\n\n      {/* Results Table */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-start justify-between\">\n            <div>\n              <CardTitle>Results</CardTitle>\n              <CardDescription>\n                {pivotResult.metadata.rowCount} rows  {pivotResult.metadata.columnCount} columns\n              </CardDescription>\n            </div>\n            <ExportDialog data={pivotResult.data} filename=\"pivot-export\" />\n          </div>\n        </CardHeader>\n        <CardContent>\n          <PivotTable\n            data={pivotResult.data}\n            config={config}\n            metadata={pivotResult.metadata}\n          />\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { CheckIcon } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"grid place-content-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n","import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn(\"relative\", className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  )\n}\n\nfunction ScrollBar({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        \"flex touch-none p-px transition-colors select-none\",\n        orientation === \"vertical\" &&\n          \"h-full w-2.5 border-l border-l-transparent\",\n        orientation === \"horizontal\" &&\n          \"h-2.5 flex-col border-t border-t-transparent\",\n        className\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className=\"bg-border relative flex-1 rounded-full\"\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  )\n}\n\nexport { ScrollArea, ScrollBar }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"popper\",\n  align = \"center\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        align={align}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n","import { cn } from \"../../lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"]}